# ‚ö° –ë—ã—Å—Ç—Ä—ã–π Smoke Test (10 –º–∏–Ω—É—Ç)

## üéØ –¶–µ–ª—å
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç (–≤ –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ (2 –º–∏–Ω)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
docker compose -f docker-compose.dev.yml ps bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose -f docker-compose.dev.yml logs bot --tail 20
```

- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`
- [ ] –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–Ω–æ–ø–∫–∏ "üè¢ –û—Ç–∫—Ä—ã—Ç—å –æ–±—ä–µ–∫—Ç" –∏ "üîí –ó–∞–∫—Ä—ã—Ç—å –æ–±—ä–µ–∫—Ç" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

### 2. –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –æ–±—ä–µ–∫—Ç–∞ (3 –º–∏–Ω)

**–í –±–æ—Ç–µ:**
1. [ ] –ù–∞–∂–∞—Ç—å "üè¢ –û—Ç–∫—Ä—ã—Ç—å –æ–±—ä–µ–∫—Ç"
2. [ ] –í—ã–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç
3. [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é
4. [ ] ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ "–û–±—ä–µ–∫—Ç –æ—Ç–∫—Ä—ã—Ç"
5. [ ] ‚úÖ –í—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ UTC!)
6. [ ] –ù–∞–∂–∞—Ç—å "üî¥ –ó–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É"
7. [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é
8. [ ] ‚úÖ –°–º–µ–Ω–∞ –∏ –æ–±—ä–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î:**
```sql
SELECT * FROM object_openings ORDER BY opened_at DESC LIMIT 1;
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: opened_at, closed_at –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
```

---

### 3. –¢–µ—Å—Ç timezone –¥–ª—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–µ–Ω (2 –º–∏–Ω)

**–°–æ–∑–¥–∞—Ç—å —Ç–∞–π–º-—Å–ª–æ—Ç —á–µ—Ä–µ–∑ –≤–µ–±:**
1. [ ] `/owner/timeslots/object/9/create`
2. [ ] –î–∞—Ç–∞: –∑–∞–≤—Ç—Ä–∞, –≤—Ä–µ–º—è: 22:00-23:00
3. [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

**–í –±–æ—Ç–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å:**
1. [ ] –ù–∞–∂–∞—Ç—å "üìÖ –û—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É"
2. [ ] ‚úÖ –°–º–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–µ–º "22:00-23:00" (–Ω–µ –ø—É—Å—Ç–æ–µ!)
3. [ ] ‚úÖ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–º–µ–Ω—ã —Å –ø—Ä–æ—à–ª—ã—Ö –¥–Ω–µ–π

---

### 4. –¢–µ—Å—Ç –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ (2 –º–∏–Ω)

**Manager: `/manager/timeslots/1167/edit`**
1. [ ] ‚úÖ –í–∏–¥–Ω—ã —á–µ–∫–±–æ–∫—Å—ã "–®—Ç—Ä–∞—Ñ–æ–≤–∞—Ç—å –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–µ" –∏ "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞"
2. [ ] ‚úÖ –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è "–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–º–µ–Ω—É"
3. [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É: "–¢–µ—Å—Ç", 100‚ÇΩ, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è
4. [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
5. [ ] ‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å

**Owner: `/owner/timeslots/object/9`**
1. [ ] –í—ã–±—Ä–∞—Ç—å 2 —Ç–∞–π–º-—Å–ª–æ—Ç–∞
2. [ ] –ù–∞–∂–∞—Ç—å "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ"
3. [ ] ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è
4. [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞"
5. [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
6. [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å
7. [ ] ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å –∫ –æ–±–æ–∏–º —Ç–∞–π–º-—Å–ª–æ—Ç–∞–º

---

### 5. –¢–µ—Å—Ç Celery adjustments (1 –º–∏–Ω)

**–ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ Celery —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
docker compose -f docker-compose.dev.yml logs celery-worker --tail 50 | grep adjustment
```

1. [ ] –û—Ç–∫—Ä—ã—Ç—å –∏ –∑–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É
2. [ ] –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã
3. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `/owner/payroll-adjustments`
4. [ ] ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å —Å `adjustment_type` = "base_pay"
5. [ ] ‚úÖ Amount —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üö® –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–±–ª–µ–º

–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –û–î–ù–û –∏–∑ —ç—Ç–æ–≥–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å—Ä–æ—á–Ω—ã–π —Ñ–∏–∫—Å:

1. ‚ùå –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
2. ‚ùå –°–º–µ–Ω–∞ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è (–æ—à–∏–±–∫–∞ –≤ –±–æ—Ç–µ)
3. ‚ùå –í—Ä–µ–º—è –≤ UTC –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ
4. ‚ùå –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–º–µ–Ω—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–ª–∏ –ø—É—Å—Ç—ã–µ
5. ‚ùå –ù–æ–≤—ã–µ –ø–æ–ª—è —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
6. ‚ùå Celery –Ω–µ —Å–æ–∑–¥–∞–µ—Ç adjustments
7. ‚ùå –û—à–∏–±–∫–∏ `greenlet` –≤ –ª–æ–≥–∞—Ö

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ–π–¥–µ–Ω–æ:** ___/22  
**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:** ___  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ OK / ‚ö†Ô∏è –° –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏ / ‚ùå –ù–ï –ü–†–û–®–ï–õ

---

## üîó –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–º. `OBJECT_STATE_AND_TIMESLOTS_TESTING.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

