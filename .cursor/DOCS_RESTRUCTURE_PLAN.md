# План работ: анализ и упорядочивание документации StaffProBot (без Project Brain)

## Цель

Собрать «одну картину» по ранее поставленным целям, этапам/фазам/задачам и факту выполнения, затем привести документацию к минимальному, понятному набору файлов.

Ключевой артефакт результата: обновлённый `doc/plans/roadmap.md` в формате из `doc/plans/restruct.md` + отдельный отчёт по целям/оптимизации.

## Инструменты (что именно используем)

- **Cursor Memory Bank (команды)**: `/van`, `/plan`, `/reflect`, `/archive`
  - Фиксируем контекст реструктуризации, критерии «что оставляем», лог решений, прогресс.
- **Supercode.sh** (режимы/воркфлоу)
  - Режим *Roadmap Executor* — чтобы не прыгать по шагам и вести изменения последовательно.
  - Режим *Refactor & Review* — перед финальным коммитом проверить консистентность документов/ссылок.
- **OpenSpec + Spec Kit (`specify`)**
  - Используем как структурированный способ фиксировать цели/эпики (не обязательно покрывать весь проект).
  - Минимум: 1–2 спеки по «новому видению» из `restruct.md` и карта эпиков.

## Правила реструктуризации

1. **Архив локальный, не в git**: переносим «старые/шумные» документы из `doc/` и `docs/` в `local_archive/docs_YYYYMMDD/…` (директория gitignored).
2. **В репо остаётся только “активный набор”**:
   - `doc/plans/roadmap.md` (переписан под новый формат)
   - `doc/plans/restruct.md` (как источник требований)
   - 1–3 новых “опорных” документа (см. ниже)
3. **Ссылки не ломаем**: если файл уезжает в архив, в активной документации остаётся ссылка-указатель «см. архив: …».
4. **Roadmap — продуктовый**: как в `restruct.md` раздел 3.1:
   - Фаза 1 (MVP, v1.1)
   - Фаза 2 (v2.0, v2.1)
   - Фаза 3 (v3.0)
   - Внутри: эпики, модули, статусы, маппинг «что уже сделано» из итераций.

## План шагов (выполнение)

### Шаг A — Инвентаризация

- Собрать перечень документов в `doc/` и `docs/`, определить:
  - **KEEP**: оставить в репозитории
  - **ARCHIVE**: перенести в `local_archive/`
  - **DROP**: удалить (если это мусор/дубликат без ценности)

### Шаг B — Новая «карта» целей и прогресса

Создать 2 файла (в активной документации):

- `doc/plans/goals_map.md`:
  - 4 модуля из `restruct.md`
  - что уже реализовано (ссылки на итерации/файлы/разделы)
  - что отсутствует
- `doc/plans/goals_optimization.md`:
  - анализ текущих целей
  - предложения по оптимизации (что объединить/убрать/переформулировать, риски)

### Шаг C — Roadmap v2

- Переписать `doc/plans/roadmap.md` в формат:
  - Фазы → версии → эпики → задачи
  - Добавить **маппинг старых итераций** 1–53/54/260115 → новые эпики/модули

### Шаг D — Архивирование `doc/` и `docs/`

- Создать `local_archive/docs_YYYYMMDD/`
- Переместить ARCHIVE-документы, в git оставить только KEEP + новые файлы.

### Шаг E — Проверки целостности

- Проверить, что:
  - `doc/plans/roadmap.md` соответствует `doc/plans/restruct.md`
  - активные документы не ссылаются на несуществующие пути (или явно указывают архив)
  - в git нет `local_archive/`

## DoD (Definition of Done)

- `doc/plans/roadmap.md` = новый формат (фазы/версии/эпики) + маппинг выполненного.
- Есть **наглядная картина целей** (goals_map) и отдельный файл с **оптимизацией целей**.
- `doc/` и `docs/` очищены от старого массива документов (они в `local_archive/`, не в git).
