# Cursor Memory Bank: Руководство по использованию

## Команды Memory Bank

### `/van` — Инициализация и сбор контекста
**Когда использовать**: В начале работы над задачей любого уровня сложности

**Что делает**:
- Собирает контекст задачи
- Обновляет `activeContext.md`
- Определяет уровень сложности (1-4)

**Пример**:
```
/van
Задача: Добавить валидацию email при регистрации пользователя
```

### `/plan` — План работ
**Когда использовать**: Для задач уровня 2-4 (не для быстрых исправлений)

**Что делает**:
- Создаёт детальный план реализации
- Обновляет `tasks.md`
- Определяет зависимости и риски

**Пример**:
```
/plan
Создать API endpoint для экспорта отчётов в Excel
```

### `/creative` — Дизайн-решения
**Когда использовать**: Для задач уровня 3-4 (сложные функции/системы)

**Что делает**:
- Создаёт документы дизайна в `creative/`
- Обновляет `systemPatterns.md`
- Документирует архитектурные решения

**Пример**:
```
/creative
Спроектировать систему уведомлений через WebSocket
```

### `/build` — Реализация
**Когда использовать**: После `/plan` или `/creative` для реализации

**Что делает**:
- Реализует код согласно плану
- Обновляет `progress.md`
- Следует паттернам из `systemPatterns.md`

**Пример**:
```
/build
Реализовать валидацию email согласно плану
```

### `/reflect` — Итог и проверки
**Когда использовать**: После `/build` для проверки и анализа

**Что делает**:
- Анализирует выполненную работу
- Обновляет `progress.md` с наблюдениями
- Предлагает улучшения

**Пример**:
```
/reflect
Проверить реализацию валидации email
```

### `/archive` — Фиксация результата
**Когда использовать**: После завершения задачи

**Что делает**:
- Перемещает задачу в архив
- Создаёт итоговую документацию
- Обновляет `tasks.md`

**Пример**:
```
/archive
Завершить задачу по валидации email
```

## Уровни сложности

| Уровень | Тип задачи | Workflow |
|---------|-----------|----------|
| 1 | Быстрое исправление | `/van` → `/build` → `/reflect` → `/archive` |
| 2 | Улучшение | `/van` → `/plan` → `/build` → `/reflect` → `/archive` |
| 3 | Новая функция | `/van` → `/plan` → `/creative` → `/build` → `/reflect` → `/archive` |
| 4 | Сложная система | `/van` → `/plan` → `/creative` → `/build` → `/reflect` → `/archive` |

## Файлы Memory Bank

| Файл | Назначение |
|------|-----------|
| `tasks.md` | Центральный источник истины для отслеживания задач |
| `activeContext.md` | Фокус текущей фазы разработки |
| `progress.md` | Статус реализации и наблюдения |
| `projectbrief.md` | Основа проекта и контекст |
| `productContext.md` | Контекст продукта |
| `systemPatterns.md` | Паттерны системы и архитектурные решения |
| `techContext.md` | Технический контекст и технологический стек |
| `creative/` | Документы дизайн-решений (уровень 3-4) |
| `reflection/` | Документы рефлексии |
| `archive/` | Архив завершённых задач |

## Интеграция с OpenSpec

Memory Bank работает вместе с OpenSpec:
- **OpenSpec** — для спецификаций требований
- **Memory Bank** — для workflow и контекста разработки

При работе с OpenSpec:
1. Читайте спецификации из `openspec/specs/` перед реализацией
2. Создавайте предложения изменений в `openspec/changes/`
3. Используйте Memory Bank команды для workflow

## Примеры использования

### Быстрое исправление (уровень 1)
```
/van Исправить ошибку в расчёте зарплаты
/build
/reflect
/archive
```

### Улучшение (уровень 2)
```
/van Добавить валидацию при создании смены
/plan
/build
/reflect
/archive
```

### Новая функция (уровень 3)
```
/van Реализовать интеграцию с платёжной системой
/plan
/creative
/build
/reflect
/archive
```

## Советы

1. **Всегда начинайте с `/van`** — это собирает необходимый контекст
2. **Обновляйте файлы** — Memory Bank работает только если вы обновляете файлы
3. **Используйте правильный уровень сложности** — это определяет глубину workflow
4. **Интегрируйте с OpenSpec** — для спецификаций используйте OpenSpec, для workflow — Memory Bank
