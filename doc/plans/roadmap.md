# Roadmap (–∏–∑ @tasklist.md)

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 477/494 (96.6%)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 23 (Employee Payment Accounting):** –§–∞–∑—ã 0-4–í ‚úÖ | –§–∞–∑–∞ 5: 5/7 –∑–∞–¥–∞—á | DoD: 6/8 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 24 (Notification System):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (7/7 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 25 (Admin Notifications Management):** ‚úÖ 80% –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (20/25 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 26 (Owner Sidebar Redesign):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (5/5 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 27 (–î–æ—Ä–∞–±–æ—Ç–∫–∏):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (6/6 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 28 (Calendar Filters):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (7/7 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 29 (Shift Cancellation System):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (12/12 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 30 (Bug Fixes & Improvements):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (1/1 –∑–∞–¥–∞—á–∞)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 31 (Owner Profile Enhancement):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (3/3 –∑–∞–¥–∞—á–∏)
**–ò—Ç–µ—Ä–∞—Ü–∏—è 32 (Contract Termination Settlement):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (8/8 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 33 (Payroll System Improvements):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (4/4 –∑–∞–¥–∞—á–∏)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 34 (Payroll Adjustments Enhancement):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (5/5 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 35 (Bot UX Improvements):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (2/2 –∑–∞–¥–∞—á–∏)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 36 (In-App Notifications & Bell Icon):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (6/6 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 37 (Notification System Overhaul):** ‚úÖ 70% –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (7/10 –∑–∞–¥–∞—á)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 38 (Notification System Completion):** ‚è∏Ô∏è –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ (–∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 39 (Billing & YooKassa Integration):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (—Ñ–∞–∑—ã 1-8 –∑–∞–≤–µ—Ä—à–µ–Ω—ã, –¥–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã)  
**–ò—Ç–µ—Ä–∞—Ü–∏—è 40 (Penalty for Non-Standard Shifts):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (–∞–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–æ —Å–æ–∑–¥–∞–Ω–æ, –ª–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
**–ò—Ç–µ—Ä–∞—Ü–∏—è 41 (DevOps Command Center):** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (8/8 –∑–∞–¥–∞—á, MVP —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)

**–ò—Ç–µ—Ä–∞—Ü–∏—è 42 (Payroll Bugfixes):** –í —Ä–∞–±–æ—Ç–µ (4/6 –∑–∞–¥–∞—á)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 37: –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Notification System Overhaul)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ 70% –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (—Ñ–∞–∑—ã 1-3 + 5)  
**–î–∞—Ç–∞:** 31 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–∞-—Ç–∞–±–ª–∏—Ü—É —Ç–∏–ø–æ–≤.

**–ü—Ä–æ–±–ª–µ–º—ã (—Ä–µ—à–µ–Ω—ã):**
- ‚ùå Hardcoded —Å–ø–∏—Å–æ–∫ –∏–∑ 9 —Ç–∏–ø–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω –¥–æ 26, –∑–∞—Ç–µ–º –≤ –º–µ—Ç–∞-—Ç–∞–±–ª–∏—Ü—É)
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é —à–∞–±–ª–æ–Ω–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- ‚ùå –ù–µ—Ç –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–∞—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚ùå –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NotificationType enum –∫–∞–∫ —Ç–∞–±–ª–∏—Ü—É –ë–î

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `notification_types_meta` (26 —Ç–∏–ø–æ–≤ —Å –ø–æ–ª–Ω–æ–π –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π)
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å `NotificationTypeMetaService` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ—Ç–∞-—Ç–∞–±–ª–∏—Ü—É —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ 15 —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º, 6 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞

**–§–∞–∑—ã:**
- [x] **–§–∞–∑–∞ 1:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (1-2 —á–∞—Å–∞) ‚úÖ
  - [x] 1.1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É `SystemFeaturesService()` –≤ `owner.py`
  - [x] 1.2. –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –¥–æ –≤—Å–µ—Ö 26 –∏–∑ enum
  - [x] 1.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `/owner/notifications` –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] **–§–∞–∑–∞ 2:** –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∞-—Ç–∞–±–ª–∏—Ü—ã —Ç–∏–ø–æ–≤ (2-3 —á–∞—Å–∞) ‚úÖ
  - [x] 2.1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `NotificationTypeMeta` (`domain/entities/notification_type_meta.py`)
  - [x] 2.2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é Alembic —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º 26 —Ç–∏–ø–æ–≤
  - [x] 2.3. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å `NotificationTypeMetaService` (`shared/services/`)
- [x] **–§–∞–∑–∞ 3:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º (1-2 —á–∞—Å–∞) ‚úÖ
  - [x] 3.1. –û–±–Ω–æ–≤–∏—Ç—å `/owner/notifications` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–∞-—Å–µ—Ä–≤–∏—Å–∞
  - [x] 3.2. –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω `owner/notifications.html` —Å Accordion –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π
  - [x] 3.3. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ –º–µ—Ç–∞-—Ç–∞–±–ª–∏—Ü—É
- [ ] **–§–∞–∑–∞ 4:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é (2-3 —á–∞—Å–∞) - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
  - [ ] 4.1. –°–≤—è–∑–∞—Ç—å —à–∞–±–ª–æ–Ω—ã —Å –º–µ—Ç–∞-—Ç–∏–ø–∞–º–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
  - [ ] 4.2. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/admin/notifications/types` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞–º–∏
  - [ ] 4.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏ (–ø–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- [x] **–§–∞–∑–∞ 5:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (1 —á–∞—Å) ‚úÖ
  - [x] 5.1. –û–±–Ω–æ–≤–∏—Ç—å `NOTIFICATIONS.md` (–¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –æ –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)
  - [x] 5.2. –û–±–Ω–æ–≤–∏—Ç—å `roadmap.md` (–¥–æ–±–∞–≤–ª–µ–Ω–∞ Iteration 37)
  - [x] 5.3. –û–±–Ω–æ–≤–∏—Ç—å `DOCUMENTATION_RULES.md` (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
  - `domain/entities/notification_type_meta.py` - –º–æ–¥–µ–ª—å –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  - `shared/services/notification_type_meta_service.py` - —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - `migrations/versions/d32a5c094264_create_notification_types_meta_table.py` - –º–∏–≥—Ä–∞—Ü–∏—è
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
  - `apps/web/routes/owner.py` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞-—Å–µ—Ä–≤–∏—Å–∞
  - `apps/web/templates/owner/notifications.html` - Accordion –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
  - `doc/NOTIFICATIONS.md` - –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª
  - `doc/plans/roadmap.md` - Iteration 37

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
1. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/owner/notifications` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
2. ‚úÖ –í–ª–∞–¥–µ–ª–µ—Ü –≤–∏–¥–∏—Ç 15 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π
3. ‚è≥ –ê–¥–º–∏–Ω —Å–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∏–ø–∞–º–∏ —á–µ—Ä–µ–∑ `/admin/notifications/types`
4. ‚è≥ –ù–æ–≤—ã–µ —Ç–∏–ø—ã —Ç—Ä–µ–±—É—é—Ç —è–≤–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–æ–º (–Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
5. ‚úÖ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞
6. ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã - —Ç–∞–±–ª–∏—Ü–∞ `notification_types_meta`

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 38: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Notification System Completion)

**–°—Ç–∞—Ç—É—Å:** ‚è∏Ô∏è –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ (–∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω)  
**–î–∞—Ç–∞:** 31 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (26 —Ç–∏–ø–æ–≤) –∏ –ø–ª–∞–Ω –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏ –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã.

### –¢–µ–∫—É—â–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (31 –æ–∫—Ç—è–±—Ä—è 2025):

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é:** 8 —Ç–∏–ø–æ–≤ (31%)
- ‚úÖ `SHIFT_REMINDER` - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å–º–µ–Ω–µ (Celery Beat –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
- ‚úÖ `SHIFT_COMPLETED` - —Å–º–µ–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–ø—Ä–∏ —Ä—É—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏)
- ‚úÖ `OBJECT_OPENED` - –æ–±—ä–µ–∫—Ç –æ—Ç–∫—Ä—ã–ª—Å—è –≤–æ–≤—Ä–µ–º—è
- ‚úÖ `OBJECT_CLOSED` - –æ–±—ä–µ–∫—Ç –∑–∞–∫—Ä—ã–ª—Å—è
- ‚úÖ `OBJECT_LATE_OPENING` - –æ–ø–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è (> 5 –º–∏–Ω—É—Ç)
- ‚úÖ `OBJECT_NO_SHIFTS_TODAY` - –Ω–µ—Ç —Å–º–µ–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç–µ
- ‚úÖ `OBJECT_EARLY_CLOSING` - —Ä–∞–Ω–Ω–µ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (> 5 –º–∏–Ω—É—Ç)
- ‚úÖ `TASK_ASSIGNED` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–ª–∞–Ω–∞)

**–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 2 —Ç–∏–ø–∞ (8%)
- ‚ö†Ô∏è `REVIEW_RECEIVED` - –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç NotificationService
- ‚ö†Ô∏è `FEATURE_ANNOUNCEMENT` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–¥–ª—è –∑–∞–¥–∞—á –≤–º–µ—Å—Ç–æ TASK_ASSIGNED)

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 16 —Ç–∏–ø–æ–≤ (61%)
- –°–º–µ–Ω—ã: `SHIFT_CONFIRMED`, `SHIFT_CANCELLED`, `SHIFT_STARTED`
- –î–æ–≥–æ–≤–æ—Ä—ã: `CONTRACT_SIGNED`, `CONTRACT_TERMINATED`, `CONTRACT_EXPIRING`, `CONTRACT_UPDATED`
- –û—Ç–∑—ã–≤—ã: `REVIEW_MODERATED`, `APPEAL_SUBMITTED`, `APPEAL_DECISION`
- –ü–ª–∞—Ç–µ–∂–∏: `PAYMENT_DUE`, `PAYMENT_SUCCESS`, `PAYMENT_FAILED`, `USAGE_LIMIT_WARNING`, `USAGE_LIMIT_EXCEEDED`
- –ó–∞–¥–∞—á–∏: `TASK_COMPLETED`, `TASK_OVERDUE`
- –°–∏—Å—Ç–µ–º–Ω—ã–µ: `WELCOME`, `PASSWORD_RESET`, `ACCOUNT_SUSPENDED`, `ACCOUNT_ACTIVATED`, `SYSTEM_MAINTENANCE`
- –ü–æ–¥–ø–∏—Å–∫–∏: `SUBSCRIPTION_EXPIRING`, `SUBSCRIPTION_EXPIRED` (–±—É–¥—É—Ç –≤ Iteration 39+)

### –ü–ª–∞–Ω –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (11 –¥–Ω–µ–π, –æ—Ç–ª–æ–∂–µ–Ω):

–°–º. –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω –≤ `doc/plans/ITERATION_38_PLAN.md` (–∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö 26 —Ç–∏–ø–æ–≤ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Ç–µ—Ä–∞—Ü–∏—è –æ—Ç–ª–æ–∂–µ–Ω–∞. –¢–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –æ–±—ä–µ–∫—Ç–∞–º –∏ —Å–º–µ–Ω–∞–º) —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã —á–∞—Å—Ç–∏—á–Ω–æ, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ—Ç–ª–∞–¥–∫–∏. –í–µ—Ä–Ω—ë–º—Å—è –∫ –¥–æ—Ä–∞–±–æ—Ç–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Iteration 39.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 39: –ë–∏–ª–ª–∏–Ω–≥ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YooKassa

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (–¥–µ–ø–ª–æ–π –Ω–∞ production 01.11.2025)  
**–î–∞—Ç–∞:** 31 –æ–∫—Ç—è–±—Ä—è - 1 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã –±–∏–ª–ª–∏–Ω–≥–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (–≤–ª–∞–¥–µ–ª—å—Ü—ã vs —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏), –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º —à–ª—é–∑–æ–º YooKassa –¥–ª—è –ø—Ä–∏—ë–º–∞ –æ–ø–ª–∞—Ç –ø–æ–¥–ø–∏—Å–æ–∫ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤.

### –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω (31 –æ–∫—Ç—è–±—Ä—è 2025):

**–í—ã–≤–æ–¥: –ë–∏–ª–ª–∏–Ω–≥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –î–õ–Ø –í–õ–ê–î–ï–õ–¨–¶–ï–í (owners), –ù–ï –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.**

–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞:
1. `BillingService.update_usage_metrics()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Object.owner_id == user_id` –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –æ–±—ä–µ–∫—Ç–æ–≤
2. `UsageMetrics` —Å—á–∏—Ç–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞: –æ–±—ä–µ–∫—Ç—ã, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ
3. `UserSubscription` - –ø–æ–¥–ø–∏—Å–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –Ω–∞ —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã (`TariffPlan`)
4. –í enum `PaymentMethod` —É–∂–µ –µ—Å—Ç—å `YOOKASSA` ‚úÖ

**–°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- ‚úÖ `BillingTransaction` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ `UserSubscription` - –ø–æ–¥–ø–∏—Å–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –Ω–∞ —Ç–∞—Ä–∏—Ñ—ã
- ‚úÖ `UsageMetrics` - –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–æ–±—ä–µ–∫—Ç—ã, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ)
- ‚úÖ `BillingService` - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏–ª–ª–∏–Ω–≥–æ–º
- ‚úÖ –†–æ—É—Ç—ã –¥–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ (`/admin/billing/*`)

**–ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- ‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YooKassa (–Ω–µ—Ç SDK, –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π, –Ω–µ—Ç –≤–µ–±—Ö—É–∫–æ–≤)
- ‚ùå –†–æ—É—Ç—ã –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (`/owner/tariffs`, `/owner/subscription`, `/owner/billing/transactions`)
- ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç YooKassa (`/api/webhooks/yookassa`)
- ‚ùå UI –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ø–æ –≤—ã–±–æ—Ä—É —Ç–∞—Ä–∏—Ñ–∞ –∏ –æ–ø–ª–∞—Ç–µ

**–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑:** `doc/plans/iteration39/BILLING_ANALYSIS.md`

### –ü–ª–∞–Ω –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (5 –¥–Ω–µ–π):

- [x] **–§–∞–∑–∞ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SDK YooKassa (0.5 –¥–Ω—è)** ‚úÖ
  - [x] 1.1. –î–æ–±–∞–≤–∏—Ç—å `yookassa` –≤ `requirements.txt`
  - [x] 1.2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (YOOKASSA_SHOP_ID, YOOKASSA_SECRET_KEY, YOOKASSA_WEBHOOK_SECRET, YOOKASSA_TEST_MODE)
  - [x] 1.3. –°–æ–∑–¥–∞—Ç—å `apps/web/services/payment_gateway/yookassa_service.py`

- [x] **–§–∞–∑–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (1 –¥–µ–Ω—å)** ‚úÖ
  - [x] 2.1. –°–æ–∑–¥–∞—Ç—å `apps/web/routes/owner_subscription.py`
  - [x] 2.2. –†–æ—É—Ç—ã: `/owner/tariffs`, `/owner/subscription`, `/owner/billing/transactions`, `/owner/subscription/payment_success`
  - [x] 2.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YooKassa –≤ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (`BillingService.create_payment_transaction`)
  - [x] 2.4. –®–∞–±–ª–æ–Ω—ã –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (`owner/tariffs.html`, `owner/subscription.html`, `owner/billing/transactions.html`, `owner/payment_success.html`)

- [x] **–§–∞–∑–∞ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç YooKassa (1.5 –¥–Ω—è)** ‚úÖ
  - [x] 3.1. –°–æ–∑–¥–∞—Ç—å `apps/web/routes/webhooks.py`
  - [x] 3.2. –†–æ—É—Ç `POST /api/webhooks/yookassa`
  - [x] 3.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤: succeeded, canceled, waiting_for_capture
  - [x] 3.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã (`BillingService.process_payment_success`)

- [x] **–§–∞–∑–∞ 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ (1 –¥–µ–Ω—å)** ‚úÖ
  - [x] 4.1. –°–æ–∑–¥–∞—Ç—å `core/celery/tasks/billing_tasks.py`
  - [x] 4.2. –ó–∞–¥–∞—á–∏: `check_expiring_subscriptions`, `check_expired_subscriptions`, `activate_scheduled_subscriptions`
  - [x] 4.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –ø—Ä–∏ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–∏ (`process_auto_renewal` —Å YooKassa)

- [x] **–§–∞–∑–∞ 5: UI –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (1 –¥–µ–Ω—å)** ‚úÖ
  - [x] 5.1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞ (`owner/tariffs.html`)
  - [x] 5.2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–æ–π (`owner/subscription.html`)
  - [x] 5.3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (`owner/billing/transactions.html`)

- [x] **–§–∞–∑–∞ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (0.5 –¥–Ω—è)** ‚úÖ
  - [x] 6.1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ sandbox YooKassa
  - [x] 6.2. –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases (–¥—É–±–ª–∏–∫–∞—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤)
  - [x] 6.3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
  - [x] 6.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ roadmap
- [x] **–§–∞–∑–∞ 7: –£–ª—É—á—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –±–∏–ª–ª–∏–Ω–≥–∞ (0.5 –¥–Ω—è)** ‚úÖ
  - [x] 7.1. –¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
  - [x] 7.2. –¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
  - [x] 7.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö
  - [x] 7.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ tariff_plan –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [x] **–§–∞–∑–∞ 8: –õ—å–≥–æ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–º–µ–Ω–∞ —Ç–∞—Ä–∏—Ñ–∞ (0.5 –¥–Ω—è)** ‚úÖ
  - [x] 8.1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `grace_period_days` –≤ `TariffPlan`
  - [x] 8.2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ —Å –ª—å–≥–æ—Ç–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - [x] 8.3. –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–º–µ–Ω–∞ —Ç–∞—Ä–∏—Ñ–∞ (–Ω–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ)
  - [x] 8.4. Celery –∑–∞–¥–∞—á–∞ `activate-scheduled-subscriptions` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- [x] **–§–∞–∑–∞ 9: –£–ª—É—á—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –±–∏–ª–ª–∏–Ω–≥–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ (0.5 –¥–Ω—è)** ‚úÖ
  - [x] 9.1. –¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π (`/admin/billing/transactions`)
  - [x] 9.2. –¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π (`/admin/subscriptions/`)
  - [x] 9.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö (user_id, tariff_id –∫–∞–∫ Optional[str])
  - [x] 9.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø –∫ `tariff_plan` –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞—Ä–∏—Ñ–µ –≤ —Å–ª–æ–≤–∞—Ä—å –ø–æ–¥–ø–∏—Å–∫–∏)
  - [x] 9.5. –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `func` –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - [x] 9.6. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç `yookassa` SDK –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - [x] 9.7. –ü—Ä–æ–≤–µ—Ä–∫–∏ `YOOKASSA_AVAILABLE` –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö SDK

### –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∏–ª–ª–∏–Ω–≥–∞ (–¥–æ–∫—É–º–µ–Ω—Ç: `BILLING_ANALYSIS.md`)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YooKassa –¥–ª—è –ø—Ä–∏—ë–º–∞ –æ–ø–ª–∞—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Celery –∑–∞–¥–∞—á–∏)
- ‚è≥ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–ª–∞—Ç–µ–∂–∞—Ö (Iteration 38, —Ç–∏–ø—ã SUBSCRIPTION_EXPIRING, SUBSCRIPTION_EXPIRED)

### DoD:

- [x] –ê–Ω–∞–ª–∏–∑ –±–∏–ª–ª–∏–Ω–≥–∞ –∑–∞–≤–µ—Ä—à—ë–Ω –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω ‚úÖ
- [x] YooKassa –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ sandbox ‚úÖ
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚úÖ
- [x] –†–æ—É—Ç—ã –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–æ–∑–¥–∞–Ω—ã ‚úÖ
- [x] UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –≥–æ—Ç–æ–≤ ‚úÖ
- [x] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±–∏–ª–ª–∏–Ω–≥–∞ —É–ª—É—á—à–µ–Ω–∞ (—Ç–∞–±–ª–∏—Ü—ã —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π) ‚úÖ
- [x] –õ—å–≥–æ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–º–µ–Ω–∞ —Ç–∞—Ä–∏—Ñ–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã ‚úÖ
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ production ‚úÖ
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –±–∏–ª–ª–∏–Ω–≥–∞ ‚úÖ

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `apps/web/services/payment_gateway/yookassa_service.py`
- `apps/web/routes/owner_subscription.py`
- `apps/web/routes/webhooks.py`
- `core/celery/tasks/billing_tasks.py`
- `apps/web/templates/owner/tariffs.html`
- `apps/web/templates/owner/subscription.html`
- `apps/web/templates/owner/billing/transactions.html`

**Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –≤ `beat_schedule`: `check-expiring-subscriptions` (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ 09:00 UTC), `check-expired-subscriptions` (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ 00:05 UTC)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 25: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ 80% –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (4 –∏–∑ 5 —Ñ–∞–∑)  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π, —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ –º–∞—Å—Å–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

**–°—Å—ã–ª–∫–∏:**
- [README](doc/plans/iteration25/README.md) - –æ–±—â–∏–π –ø–ª–∞–Ω –∏—Ç–µ—Ä–∞—Ü–∏–∏
- [ITERATION_25_PLAN.md](doc/plans/iteration25/ITERATION_25_PLAN.md) - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∑–∞–¥–∞—á
- [TECHNICAL_GUIDE.md](doc/plans/iteration25/TECHNICAL_GUIDE.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [CHANGELOG.md](doc/plans/iteration25/CHANGELOG.md) - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–§–∞–∑—ã:**
- [x] **–§–∞–∑–∞ 1:** –î–∞—à–±–æ—Ä–¥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (3 –¥–Ω—è) ‚úÖ
  - [x] 1.1. –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ä–æ—É—Ç—ã (`admin_notifications.py`)
  - [x] 1.2. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (`admin_notification_service.py`)
  - [x] 1.3. –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ Chart.js (`dashboard.html`)
  - [x] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —Ä–∞–±–æ—Ç—ã —Å –ë–î
- [x] **–§–∞–∑–∞ 2:** –°–ø–∏—Å–æ–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å AJAX (1 –¥–µ–Ω—å) ‚úÖ
  - [x] 2.1. –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - [x] 2.2. –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É, –∫–∞–Ω–∞–ª—É, —Ç–∏–ø—É, –¥–∞—Ç–µ
  - [x] 2.3. AJAX —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (`notifications.js`)
  - [x] 2.4. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π
- [x] **–§–∞–∑–∞ 3:** CRUD –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ (2 –¥–Ω—è) ‚úÖ
  - [x] 3.1. –ú–æ–¥–µ–ª—å `NotificationTemplate` + –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
  - [x] 3.2. –ü–æ–ª–Ω—ã–π CRUD —Å–µ—Ä–≤–∏—Å —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - [x] 3.3. HTML —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - [x] 3.4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–æ–≤
  - [x] 3.5. –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞: –∫–∞—Å—Ç–æ–º–Ω—ã–µ ‚Üí —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ
- [ ] **–§–∞–∑–∞ 4:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ (–ø—Ä–æ–ø—É—â–µ–Ω–∞ - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ .env)
- [x] **–§–∞–∑–∞ 5:** –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (1 –¥–µ–Ω—å) ‚úÖ
  - [x] 5.1. –°–µ—Ä–≤–∏—Å –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (`notification_bulk_service.py`)
  - [x] 5.2. API endpoints –¥–ª—è –æ—Ç–º–µ–Ω—ã, –ø–æ–≤—Ç–æ—Ä–∞, —É–¥–∞–ª–µ–Ω–∏—è
  - [x] 5.3. –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV, JSON, XLSX
  - [x] 5.4. JavaScript –¥–ª—è UI
  - [x] 5.5. –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã SCHEDULED –∏ DELETED

**–ò—Ç–æ–≥–æ:** 4/5 —Ñ–∞–∑ –∑–∞–≤–µ—Ä—à–µ–Ω—ã (80%)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 26: Owner Sidebar Redesign

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 3 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–¥–∏–∑–∞–π–Ω –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –¥–∏–∑–∞–π–Ω –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∫–æ–Ω–∫–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ò—Ç–µ—Ä–∞—Ü–∏—è 27: –î–æ—Ä–∞–±–æ—Ç–∫–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 2 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–∞–∑–ª–∏—á–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ–ª–∫–∏–µ –±–∞–≥–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

## –ò—Ç–µ—Ä–∞—Ü–∏—è 28: Calendar Filters

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 4 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É —Å–º–µ–Ω
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –æ–±—ä–µ–∫—Ç–∞–º
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ –£–ª—É—á—à–µ–Ω UX —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–ü–æ—Å—Ç-—Ñ–∏–∫—Å 30.10.2025:** –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–º-—Å–ª–æ—Ç–∞ ‚Äî –æ–±—ä–µ–∫—Ç –∏–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è; –∞–≤—Ç–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ –ø–µ—Ä–≤–æ–π ¬´–¥—ã—Ä–µ¬ª –º–µ–∂–¥—É —Ç–∞–π–º‚Äë—Å–ª–æ—Ç–∞–º–∏ (fallback API –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö).

**–ü–æ—Å—Ç-—Ñ–∏–∫—Å 31.10.2025 (Tasks v2 ‚Äî Owner):**
- ‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞ –∑–∞–¥–∞—á `/owner/tasks/plan/create` (–≤–º–µ—Å—Ç–æ –º–æ–¥–∞–ª–∫–∏)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–ª–∏–∂–∞–π—à–∏—Ö –¥–∞—Ç
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω 500 –ø—Ä–∏ ¬´–ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–Ω–µ–π¬ª (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ `day_interval` ‚â• 1)
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∞–∫—Ç–∏–≤–Ω—ã–º —Å–º–µ–Ω–∞–º (`shift_id`): –∑–∞–¥–∞—á–∏ —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã –≤ ¬´üìù –ú–æ–∏ –∑–∞–¥–∞—á–∏¬ª
- ‚è≥ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –æ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö —á–µ—Ä–µ–∑ Telegram ‚Äî PENDING (–∑–∞–≥–æ—Ç–æ–≤–∫–∞ –µ—Å—Ç—å, —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏–π)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 29: –°–∏—Å—Ç–µ–º–∞ –æ—Ç–º–µ–Ω—ã —Å–º–µ–Ω —Å —É—á–µ—Ç–æ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 2 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É—á–µ—Ç–∞ –æ—Ç–º–µ–Ω –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–µ–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á–µ—Ç–æ–º —à—Ç—Ä–∞—Ñ–æ–≤, –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è–º–∏ –∑–∞—Ä–ø–ª–∞—Ç—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ç–∞–±–ª–∏—Ü–∞ shift_cancellations (0.3 –¥–Ω—è)**
  - Type: feature | Files: domain/entities/shift_cancellation.py, migrations/
  - Acceptance: —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
  
- [x] **1.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à—Ç—Ä–∞—Ñ–æ–≤ –≤ Object/OrgStructure (0.2 –¥–Ω—è)**
  - Type: feature | Files: domain/entities/object.py, domain/entities/org_structure.py
  - Acceptance: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º
  
- [x] **1.3. –ê–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–∞ (0.4 –¥–Ω—è)**
  - Type: feature | Files: apps/web/services/contract_service.py
  - Acceptance: –æ—Ç–º–µ–Ω–∞ —Å–º–µ–Ω –Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
  
- [x] **1.4. –û—Ç–º–µ–Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (0.5 –¥–Ω—è)**
  - Type: feature | Files: apps/bot/handlers_div/schedule_handlers.py
  - Acceptance: –≤—ã–±–æ—Ä –ø—Ä–∏—á–∏–Ω—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —à—Ç—Ä–∞—Ñ–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ: —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º; —Ç–µ–∫—Å—Ç –∏–∑ —Å–µ—Ä–≤–∏—Å–∞ –æ—Ç–º–µ–Ω—ã
  
- [x] **1.5. –û—Ç–º–µ–Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º/—É–ø—Ä–∞–≤–ª—è—é—â–∏–º —á–µ—Ä–µ–∑ –≤–µ–± (0.3 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/cancellations.py
  - Acceptance: –æ—Ç–º–µ–Ω–∞ –±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤
  
- [x] **1.6. –ú–æ–¥–µ—Ä–∞—Ü–∏—è —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω (0.3 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/cancellations.py
  - Acceptance: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø—Ä–∞–≤–æ–∫ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
  - –£—Ç–æ—á–Ω–µ–Ω–∏–µ: —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `treated_as_valid`

- [x] **1.9. –ü—Ä–∏—á–∏–Ω—ã –æ—Ç–º–µ–Ω—ã: –º–æ–¥–µ–ª—å + –º–∏–≥—Ä–∞—Ü–∏—è + —Å–∏–¥—ã (0.3 –¥–Ω—è)**
  - Type: feature | Files: domain/entities/cancellation_reason.py, migrations/versions/20251022_001_add_cancellation_reasons.py
  - Acceptance: –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∑–∞—Å–µ—è–Ω—ã, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

- [x] **1.10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏—á–∏–Ω –≤–ª–∞–¥–µ–ª—å—Ü–µ–º (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/owner_cancellation_reasons.py, apps/web/templates/owner/cancellations/reasons.html
  - Acceptance: –≤–∏–¥–∏–º–æ—Å—Ç—å/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å/—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å/–ø–æ—Ä—è–¥–æ–∫

- [x] **1.11. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à—Ç—Ä–∞—Ñ–æ–≤ –æ—Ç–º–µ–Ω—ã (0.2 –¥–Ω—è)**
  - Type: feature | Files: domain/entities/object.py, domain/entities/org_structure.py
  - Acceptance: `get_cancellation_settings()` –∏ `get_inherited_cancellation_settings()`

- [x] **1.12. –£–ª—É—á—à–µ–Ω–∏–µ UX –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (0.1 –¥–Ω—è)**
  - Type: improvement | Files: apps/web/services/auth_service.py
  - Acceptance: –ø—Ä–∏ `chat not found` –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —è–≤–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –æ—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –∏ –Ω–∞–∂–∞—Ç—å Start
  
- [x] **1.7. UI –Ω–∞—Å—Ç—Ä–æ–µ–∫ —à—Ç—Ä–∞—Ñ–æ–≤ (0.4 –¥–Ω—è)**
  - Type: feature | Files: apps/web/templates/owner/objects/*.html
  - Acceptance: —Å–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ —Ñ–æ—Ä–º–∞—Ö
  
- [x] **1.8. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ—Ç–º–µ–Ω (0.6 –¥–Ω—è)**
  - Type: feature | Files: apps/analytics/analytics_service.py
  - Acceptance: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ü–æ–ª–Ω—ã–π —É—á–µ—Ç –æ—Ç–º–µ–Ω: –∫—Ç–æ, –∫–æ–≥–¥–∞, –ø–æ—á–µ–º—É, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —á–µ–≥–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —à—Ç—Ä–∞—Ñ—ã –ø–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø—Ä–∞–≤–∏–ª–∞–º
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å–ø—Ä–∞–≤–æ–∫ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PayrollAdjustment
- ‚úÖ –ê–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç @conventions.mdc ‚úÖ
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ ‚úÖ

## –ò—Ç–µ—Ä–∞—Ü–∏—è 30: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—è ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 1 –¥–µ–Ω—å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–º–µ–Ω –ø—Ä–∏ –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–∏ –¥–ª—è –±–µ—Å—à–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–º–µ–Ω (1 –¥–µ–Ω—å)**
  - Type: feature | Files: core/celery/tasks/shift_tasks.py
  - Acceptance: –ø—Ä–∏ –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–º–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è, –µ—Å–ª–∏ –≤—Ä–µ–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–∏ –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–º–µ–Ω—ã (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç —á–µ—Ä–µ–∑ Celery Beat)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å—Ç—å –ª–∏ —Å–ª–µ–¥—É—é—â–∞—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–º–µ–Ω–∞ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å?
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ `end_time` –∑–∞–∫—Ä—ã—Ç–æ–π == `start_time` —Å–ª–µ–¥—É—é—â–µ–π?
4. –ï—Å–ª–∏ –¥–∞ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω—ã

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- `start_time` = –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ç–∞–π–º-—Å–ª–æ—Ç–∞ (–ù–ï —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)
- `actual_start` = —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –∞–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏—è
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–º–µ–Ω—ã
- –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¢–û–õ–¨–ö–û –ø—Ä–∏ –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–∏ (–Ω–µ –ø—Ä–∏ —Ä—É—á–Ω–æ–º)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤: —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ Shift –∏ ShiftSchedule

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `Notification` –≤ `domain/entities/__init__.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω eager loading –¥–ª—è `org_unit` (–∏–∑–±–µ–∂–∞–Ω–∏–µ greenlet –æ—à–∏–±–æ–∫)
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `late_threshold_minutes` (–±–µ–∑ –æ–±—Ö–æ–¥–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Ä–µ–º—è —Ç–∞–π–º-—Å–ª–æ—Ç–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `doc/vision_v1/shared/auto_shift_opening.md`
- ‚úÖ –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ `confirmed` –≤ ShiftSchedule (legacy/–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ë–µ—Å—à–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–º–µ–Ω–∞—Ö
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–µ–æ–ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã (–∏–∑ —Ç–∞–π–º-—Å–ª–æ—Ç–∞)
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ
**–ü–æ—Å—Ç-—Ñ–∏–∫—Å 30.10.2025:** –ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–º–µ–Ω ‚Äî actual_start –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø–ª–∞–Ω–æ–≤–æ–≥–æ –Ω–∞—á–∞–ª–∞ —Ç–∞–π–º‚Äë—Å–ª–æ—Ç–∞; —Ñ–∏–ª—å—Ç—Ä ¬´—Å–ª–µ–¥—É—é—â–µ–π¬ª –ø–æ —Ç–æ–º—É –∂–µ –æ–±—ä–µ–∫—Ç—É –∏ —Ç–æ—á–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 31: Owner Profile Enhancement ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 0.5 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞: –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤–∫–ª—é—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–æ—Ñ–∏–ª—è (0.3 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/owner.py, apps/web/services/tag_service.py, apps/web/templates/owner/profile/index.html
  - Acceptance: –ø–æ–ª—è ¬´–û –∫–æ–º–ø–∞–Ω–∏–∏¬ª, ¬´–¶–µ–Ω–Ω–æ—Å—Ç–∏¬ª, ¬´–î–ª—è —Å–≤—è–∑–∏¬ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å debounce 600–º—Å
  
- [x] **1.2. –ê–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ OwnerProfile –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π (0.1 –¥–Ω—è)**
  - Type: bugfix | Files: shared/services/system_features_service.py
  - Acceptance: –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å telegram_bot –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  
- [x] **1.3. –û—á–∏—Å—Ç–∫–∞ Redis –∫—ç—à–∞ enabled_features (0.1 –¥–Ω—è)**
  - Type: maintenance | Files: deployment scripts
  - Acceptance: –∫—ç—à –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- –ù–æ–≤—ã–π API endpoint: `POST /owner/profile/api/autosave`
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ `TagService.update_owner_profile_fields()`
- JavaScript debounce 600–º—Å –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —á–µ–∫–±–æ–∫—Å–æ–≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤

**–ê–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è:**
- –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `toggle_user_feature()` –ø—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `telegram_bot`
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Owner profile not found"

**–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞:**
- Redis –ø–∞—Ç—Ç–µ—Ä–Ω: `enabled_features:*`
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ toggle —Ñ—É–Ω–∫—Ü–∏–∏
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ –ø—Ä–æ–¥

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ UX: –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å: –ø—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –∫—ç—à –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

## –ò—Ç–µ—Ä–∞—Ü–∏—è 32: Contract Termination Settlement ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 1 –¥–µ–Ω—å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–∏ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–∞ —Å –≤—ã–±–æ—Ä–æ–º —Ä–µ–∂–∏–º–∞ –≤—ã–ø–ª–∞—Ç—ã.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ Contract (0.1 –¥–Ω—è)**
  - Type: feature | Files: domain/entities/contract.py, migrations/
  - Acceptance: –¥–æ–±–∞–≤–ª–µ–Ω—ã termination_date –∏ settlement_policy

- [x] **1.2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ç–∞–±–ª–∏—Ü–∞ contract_terminations (0.1 –¥–Ω—è)**
  - Type: feature | Files: domain/entities/contract_termination.py, migrations/
  - Acceptance: —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–π

- [x] **1.3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–æ—Ä–º —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/web/templates/owner/employees/contract_detail.html, apps/web/templates/manager/employees/detail.html
  - Acceptance: –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è: –¥–∞—Ç–∞ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è, —Ä–µ–∂–∏–º —Ñ–∏–Ω—Ä–∞—Å—á—ë—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–∏—á–∏–Ω—ã

- [x] **1.4. ContractService: –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/web/services/contract_service.py
  - Acceptance: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ termination –∑–∞–ø–∏—Å–∏, –æ—Ç–º–µ–Ω–∞ –ø–ª–∞–Ω–æ–≤—ã—Ö —Å–º–µ–Ω

- [x] **1.5. –£—á—ë—Ç terminated contracts –≤ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è—Ö (0.1 –¥–Ω—è)**
  - Type: feature | Files: core/celery/tasks/payroll_tasks.py
  - Acceptance: terminated —Å settlement_policy='schedule' –≤–∫–ª—é—á–µ–Ω—ã –≤ –≤—ã–ø–ª–∞—Ç—ã –ø–æ –≥—Ä–∞—Ñ–∏–∫—É

- [x] **1.6. Celery task —Ñ–∏–Ω—Ä–∞—Å—á—ë—Ç–∞ (0.2 –¥–Ω—è)**
  - Type: feature | Files: core/celery/tasks/payroll_tasks.py, core/celery/celery_app.py
  - Acceptance: create_final_settlements_by_termination_date –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 01:05

- [x] **1.7. PayrollAdjustmentService —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (0.05 –¥–Ω—è)**
  - Type: feature | Files: shared/services/payroll_adjustment_service.py
  - Acceptance: –º–µ—Ç–æ–¥ get_unapplied_adjustments_until()

- [x] **1.8. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–π (0.15 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/cancellations.py, apps/web/templates/owner/analytics/cancellations.html
  - Acceptance: –Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /owner/analytics/cancellations

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö:**
- Contract: `termination_date`, `settlement_policy`
- ContractTermination: –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–π

**–†–µ–∂–∏–º—ã —Ñ–∏–Ω—Ä–∞—Å—á—ë—Ç–∞:**
1. **–ü–æ –≥—Ä–∞—Ñ–∏–∫—É** (`settlement_policy='schedule'`):
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≥—Ä–∞—Ñ–∏–∫—É
   - –î–æ–≥–æ–≤–æ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –≤—ã–±–æ—Ä–∫–µ –¥–ª—è payroll –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è

2. **–í –¥–∞—Ç—É —É–≤–æ–ª—å–Ω–µ–Ω–∏—è** (`settlement_policy='termination_date'`):
   - –†–∞–∑–æ–≤–∞—è –≤—ã–ø–ª–∞—Ç–∞ –≤—Å–µ—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö adjustments –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∞—Ç—É
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞—ë—Ç PayrollEntry —Å payment_type='final_settlement'

**–ê–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ —Å–º–µ–Ω:**
- –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ termination_date –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è –≤—Å–µ –ø–ª–∞–Ω–æ–≤—ã–µ —Å–º–µ–Ω—ã –ø–æ—Å–ª–µ —ç—Ç–æ–π –¥–∞—Ç—ã
- –°–æ–∑–¥–∞—é—Ç—Å—è ShiftCancellation –∑–∞–ø–∏—Å–∏ —Å cancelled_by = –≤–ª–∞–¥–µ–ª–µ—Ü/—É–ø—Ä–∞–≤–ª—è—é—â–∏–π

**Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `create_final_settlements_by_termination_date` - –µ–∂–µ–¥–Ω–µ–≤–Ω–æ 01:05
- –û—á–µ—Ä–µ–¥—å: 'shifts'

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏—á–∏–Ω —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è:**
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã
- –°–æ–≥–ª–∞—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω
- –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —à—Ç–∞—Ç–∞
- –ü–µ—Ä–µ–µ–∑–¥
- –ü—Ä–æ–±–ª–µ–º—ã —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º
- –î—Ä—É–≥–æ–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ì–∏–±–∫–∏–π –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Ñ–∏–Ω—Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–∏ —É–≤–æ–ª—å–Ω–µ–Ω–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–ª–∞—Ç —É–≤–æ–ª–µ–Ω–Ω—ã–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- ‚úÖ –ê–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ –ø–ª–∞–Ω–æ–≤—ã—Ö —Å–º–µ–Ω –ø–æ—Å–ª–µ –¥–∞—Ç—ã —É–≤–æ–ª—å–Ω–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –ø—Ä–∏—á–∏–Ω
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π
- ‚úÖ Backfill –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö adjustments (30.09-18.10)
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (`doc/vision_v1/features/contract_termination_settlement.md`) ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Contract Termination Settlement](../vision_v1/features/contract_termination_settlement.md)
- [Payroll System](../vision_v1/entities/payroll.md)
- [Contract](../vision_v1/entities/contract.md)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 33: Payroll System Improvements ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 1 –¥–µ–Ω—å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–ø–ª–∞—Ç –∏ —É–ª—É—á—à–µ–Ω–∏–µ UX —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è–º–∏.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –ü–æ–ª–µ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ö —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/web/templates/owner/payroll_adjustments/list.html, apps/web/templates/manager/payroll_adjustments/list.html, apps/web/routes/owner_payroll_adjustments.py, apps/web/routes/manager_payroll_adjustments.py, shared/services/payroll_adjustment_service.py
  - Acceptance: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `adjustment_date` –≤ —Ñ–æ—Ä–º—ã –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ; –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π

- [x] **1.2. –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ (0.1 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/manager_payroll_adjustments.py, apps/web/templates/manager/payroll_adjustments/list.html
  - Acceptance: —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä—É—á–Ω—ã–µ –Ω–µ–ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º

- [x] **1.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–ø–ª–∞—Ç (0.5 –¥–Ω—è)**
  - Type: bugfix | Files: core/celery/celery_app.py, core/celery/tasks/payroll_tasks.py, shared/services/payroll_adjustment_service.py
  - Acceptance: 
    - –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –∑–∞–¥–∞—á –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ 04:00/04:05 –ú–°–ö
    - –£–±—Ä–∞–Ω —Ñ–∏–ª—å—Ç—Ä `is_custom` –≤ –≤—ã–±–æ—Ä–∫–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
    - –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –∑–∞ —Å–º–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ `shifts.end_time`, –∞ –Ω–µ `created_at`
    - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏—á–∏–Ω –ø—Ä–æ–ø—É—Å–∫–∞ –∏ —Ä–∞—Å—á—ë—Ç–æ–≤

- [x] **1.4. –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –≤—ã–ø–ª–∞—Ç (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/payroll.py, apps/web/templates/owner/payroll/list.html
  - Acceptance: –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Å—á—ë—Ç –Ω–∞ –ª—é–±—É—é –¥–∞—Ç—É; –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö + —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –ø–æ –≤—Ç–æ—Ä–Ω–∏–∫–∞–º –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤—ã–ø–ª–∞—Ç.

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ó–∞–¥–∞—á–∞ –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –≤ 01:00 –ú–°–ö –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ 04:00 –ú–°–ö
2. –§–∏–ª—å—Ç—Ä `is_custom == True` –∏—Å–∫–ª—é—á–∞–ª –Ω–µ–∫–∞—Å—Ç–æ–º–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
3. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª–∏—Å—å –ø–æ `created_at` –≤–º–µ—Å—Ç–æ –¥–∞—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–º–µ–Ω—ã, –∏–∑-–∑–∞ —á–µ–≥–æ —Å–º–µ–Ω—ã —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞—Ç–∞–º–∏, –Ω–æ –Ω–µ–¥–∞–≤–Ω–∏–º `created_at` (–ø–æ—Å–ª–µ backfill) –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –ø–µ—Ä–∏–æ–¥

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ –Ω–∞ 04:00 –ú–°–ö (= 01:00 UTC)
- ‚úÖ –°–Ω—è—Ç–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `is_custom`
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `shifts.end_time` –¥–ª—è —Å–º–µ–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–±–æ–∏ —á–µ—Ä–µ–∑ UI
- ‚úÖ –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –ø–æ–ª—É—á–∏–ª –±–æ–ª—å—à–µ –ø—Ä–∞–≤ –Ω–∞–¥ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞–º–∏
- ‚úÖ –†—É—á–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Payroll System](../vision_v1/entities/payroll.md)
- [Owner Routes](../vision_v1/roles/owner.md)
- [Manager Routes](../vision_v1/roles/manager.md)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 34: Payroll Adjustments Enhancement ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 0.5 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ—Å—á—ë—Ç–æ–º –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/owner_payroll_adjustments.py, apps/web/routes/manager_payroll_adjustments.py, apps/web/templates/owner/payroll/detail.html, apps/web/templates/manager/payroll/detail.html
  - Acceptance: –≤–ª–∞–¥–µ–ª–µ—Ü –∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å —Ä—É—á–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ—Å—á—ë—Ç–æ–º —Å—É–º–º

- [x] **1.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ timezone –¥–ª—è datetime –ø–æ–ª–µ–π (0.1 –¥–Ω—è)**
  - Type: bugfix | Files: shared/services/payroll_adjustment_service.py, apps/web/routes/manager_payroll.py, apps/web/routes/payroll.py
  - Acceptance: –≤—Å–µ datetime –ø–æ–ª—è (created_at, updated_at, edit_history.timestamp) —Å–æ–∑–¥–∞—é—Ç—Å—è timezone-aware (UTC)

- [x] **1.3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–Ω–∞–∫ –¥–ª—è manual_deduction –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (0.1 –¥–Ω—è)**
  - Type: bugfix | Files: apps/web/routes/owner_payroll_adjustments.py, apps/web/routes/manager_payroll_adjustments.py
  - Acceptance: –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ manual_deduction —Å—É–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π

- [x] **1.4. –ó–∞–≥—Ä—É–∑–∫–∞ user_name –¥–ª—è edit_history (0.05 –¥–Ω—è)**
  - Type: feature | Files: apps/web/routes/manager_payroll.py, apps/web/routes/payroll.py, apps/web/templates/manager/payroll/detail.html, apps/web/templates/owner/payroll/detail.html
  - Acceptance: –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–§–∞–º–∏–ª–∏—è –ò–º—è" –≤–º–µ—Å—Ç–æ "ID: XX"

- [x] **1.5. –ü—Ä–æ—Ç–æ–∫–æ–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (0.05 –¥–Ω—è)**
  - Type: feature | Files: —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —à–∞–±–ª–æ–Ω–∞—Ö
  - Acceptance: –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–æ—Ç–æ–∫–æ–ª –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

1. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫:**
   - –°–Ω—è—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `is_applied == False`
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å—É–º–º—ã –≤ PayrollEntry
   - –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Å—á—ë—Ç–∞: –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è ‚Üí –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è gross_amount, total_bonuses, total_deductions, net_amount

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–Ω–∞–∫ –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏–π:**
   - –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ manual_deduction –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `-abs(amount)`
   - –ò—Å–∫–ª—é—á–∞–µ—Ç –æ—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (—É–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –∫–∞–∫ –ø—Ä–µ–º–∏—è)

3. **Timezone-aware datetime:**
   - created_at: `datetime.now(timezone.utc)`
   - updated_at: `datetime.now(timezone.utc)`
   - edit_history.timestamp: –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ ISO —Å—Ç—Ä–æ–∫–∏ –≤ timezone-aware datetime –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

4. **–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏:**
   - –°–æ–±–∏—Ä–∞—é—Ç—Å—è –≤—Å–µ user_id –∏–∑ edit_history
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
   - user_name –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—é

5. **–ü—Ä–æ—Ç–æ–∫–æ–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ timestamp (–≤—Å–µ timezone-aware)
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∫—Ç–æ, –∫–æ–≥–¥–∞, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª (–ø–æ–ª–µ, —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –í–ª–∞–¥–µ–ª–µ—Ü –∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç —Å—É–º–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏–π (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å—É–º–º—ã)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –∏–º–µ–Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å timezone
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Payroll System](../vision_v1/entities/payroll.md)
- [Owner Routes](../vision_v1/roles/owner.md)
- [Manager Routes](../vision_v1/roles/manager.md)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 35: Bot UX Improvements ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 0.5 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –±–æ—Ç–∞: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ –º–µ–∂–¥—É –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –∏ –±–æ—Ç–æ–º (0.3 –¥–Ω—è)**
  - Type: bugfix | Files: shared/services/schedule_service.py, apps/bot/services/schedule_service.py
  - Acceptance: shared-—Å–µ—Ä–≤–∏—Å —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É `shift_schedules` –≤–º–µ—Å—Ç–æ `shifts` –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤; –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å [1/2] –≤–º–µ—Å—Ç–æ [0/2]

- [x] **1.2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø–æ—Å–ª–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω—ã (0.2 –¥–Ω—è)**
  - Type: feature | Files: apps/bot/handlers_div/schedule_handlers.py
  - Acceptance: –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–µ–Ω—é

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ —Ä–∞–∑–Ω—É—é –∑–∞–Ω—è—Ç–æ—Å—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–∞–π–º-—Å–ª–æ—Ç–∞
- –ü—Ä–∏—á–∏–Ω–∞: shared-—Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–∞–±–ª–∏—Ü—É `shifts` –≤–º–µ—Å—Ç–æ `shift_schedules`
- –†–µ—à–µ–Ω–∏–µ: —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å—á—ë—Ç–∞ —á–µ—Ä–µ–∑ `shift_schedules`

**–£–ª—É—á—à–µ–Ω–∏–µ UX:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø–æ—Å–ª–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –±–æ—Ç–µ
- –û—á–∏—Å—Ç–∫–∞ Singleton –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `scheduled_count` –≤ `get_available_time_slots_for_date()`
- –î–æ–±–∞–≤–ª–µ–Ω `reply_markup` —Å –∫–Ω–æ–ø–∫–æ–π "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
- –û—á–∏—Å—Ç–∫–∞ Singleton —á–µ—Ä–µ–∑ `ScheduleService.clear_instance()`

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –∏ –±–æ—Ç–æ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ [1/2]
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –±–æ—Ç–µ
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ
**–ü–æ—Å—Ç-—Ñ–∏–∫—Å 30.10.2025:** –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Telegram‚Äë—á–∞—Ç–∞ –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤: `get_effective_report_chat_id()` + eager‚Äëload `Object.org_unit` (–∏—Å–∫–ª—é—á–∞–µ—Ç MissingGreenlet).

## –ò—Ç–µ—Ä–∞—Ü–∏—è 36: Mobile App Integration

**–°—Ç–∞—Ç—É—Å:** –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 10 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–±–∏–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 36: API v2

**–°—Ç–∞—Ç—É—Å:** –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–π –≤–µ—Ä—Å–∏–∏ API —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 37: Performance Optimization

**–°—Ç–∞—Ç—É—Å:** –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 6 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã, –≤–∫–ª—é—á–∞—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω–¥–µ–∫—Å—ã –ë–î –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 38: Security Hardening

**–°—Ç–∞—Ç—É—Å:** –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 4 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£—Å–∏–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã, –≤–∫–ª—é—á–∞—è –∞—É–¥–∏—Ç –¥–æ—Å—Ç—É–ø–∞, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞—â–∏—Ç—É –æ—Ç –∞—Ç–∞–∫.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 39: Documentation & Training

**–°—Ç–∞—Ç—É—Å:** –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 3 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ–±—É—á–∞—é—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 40: Final Testing & Deployment

**–°—Ç–∞—Ç—É—Å:** –í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 5 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 36: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞–≤—Ç–æ–ø—Ä–∞–≤–∏–ª, –∑–∞–¥–∞—á –∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (merge –≤ main 29.10.2025)  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 12 –¥–Ω–µ–π (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–Ω—ã–π (—Ç–µ—Ö–¥–æ–ª–≥ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —à—Ç—Ä–∞—Ñ–æ–≤/–ø—Ä–µ–º–∏–π, –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –∑–∞–¥–∞—á –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ shared-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### –¶–µ–ª–∏ (100% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ):
- ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è late/cancellation/task –≤ Object/OrgUnit/Timeslot –Ω–∞ –µ–¥–∏–Ω—ã–π Rules Engine
- ‚úÖ –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∑–∞–¥–∞—á (shift_tasks JSONB ‚Üí TaskTemplateV2/TaskPlanV2/TaskEntryV2)
- ‚úÖ –í–Ω–µ–¥—Ä–∏—Ç—å Incidents (–Ω–∞—Ä—É—à–µ–Ω–∏—è, –ø—Ä–æ–±–ª–µ–º—ã) —Å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –º–µ–¥–∏–∞ (Media Orchestrator)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ Tasks v2 –∏ Feature Flags

### –ó–∞–¥–∞—á–∏:
- [x] 1. –ê—É–¥–∏—Ç legacy-–ø–æ–ª–µ–π –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (1 –¥–µ–Ω—å)
- [x] 2. Rules Engine (–º–æ–¥–µ–ª—å, —Å–µ—Ä–≤–∏—Å, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è late/cancel) (2 –¥–Ω—è)
  - [x] 2.1. –°–æ–∑–¥–∞—Ç—å `domain/entities/rule.py` (owner_id, code, scope, condition_json, action_json)
  - [x] 2.2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `shared/services/rules_engine.py` (evaluate —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏)
  - [x] 2.3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `adjustment_tasks.py` (late) –∏ `shift_cancellation_service.py` (cancel)
  - [x] 2.4. UI `/owner/rules` (—Å–ø–∏—Å–æ–∫, toggle, SEED 3 –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö)
- [x] 3. Tasks v2 shared-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (3 –¥–Ω—è)
  - [x] 3.1. –°–æ–∑–¥–∞—Ç—å TaskTemplateV2/TaskPlanV2/TaskEntryV2
  - [x] 3.2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `shared/services/task_service.py` (–ø—Ä–∞–≤–∞ –ø–æ —Ä–æ–ª—è–º)
  - [x] 3.3. Shared-—Ä–æ—É—Ç–µ—Ä—ã: owner/manager/employee —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å
  - [x] 3.4. UI `/owner/tasks/*`, `/manager/tasks/*`, `/employee/tasks/my`
  - [x] 3.5. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö shift_tasks‚ÜíTaskTemplateV2 (8 —à–∞–±–ª–æ–Ω–æ–≤)
  - [x] 3.6. –î–µ–ø—Ä–µ–∫–∞—Ü–∏—è Object.shift_tasks (readonly + –∞–ª–µ—Ä—Ç)
- [x] 4. Cancellation Reasons (DB-driven) (1 –¥–µ–Ω—å)
  - [x] 4.1. –ú–æ–¥–µ–ª—å CancellationReason + –º–∏–≥—Ä–∞—Ü–∏—è + SEED 11 –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö
  - [x] 4.2. CancellationPolicyService (owner overrides, treated_as_valid)
  - [x] 4.3. UI `/owner/cancellations/reasons`
  - [x] 4.4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
  - [x] 4.5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –º–æ–¥–µ—Ä–∞—Ü–∏—é (verify_cancellation_document)
- [x] 5. Incidents (MVP) (0.5 –¥–Ω—è)
  - [x] 5.1. –ú–æ–¥–µ–ª—å Incident (category, severity, status, evidence_media_json)
  - [x] 5.2. –†–æ—É—Ç–µ—Ä `/owner/incidents` + –±–∞–∑–æ–≤—ã–π UI CRUD
- [x] 6. Media Orchestrator (1 –¥–µ–Ω—å)
  - [x] 6.1. –°–µ—Ä–≤–∏—Å `shared/services/media_orchestrator.py`
  - [x] 6.2. UserAction.MEDIA_FLOW –≤ state manager
  - [x] 6.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Tasks v2 (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ –æ—Ç—á—ë—Ç—ã)
- [x] 7. –î–µ–ø—Ä–µ–∫–∞—Ü–∏—è legacy-–ø–æ–ª–µ–π (0.5 –¥–Ω—è)
  - [x] 7.1. Object late/cancel –ø–æ–ª—è ‚Üí readonly + –∞–ª–µ—Ä—Ç –≤ `/owner/objects/edit`
  - [x] 7.2. Object.shift_tasks ‚Üí readonly + –∞–ª–µ—Ä—Ç "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /owner/tasks"
- [x] 8. Feature-flags migration (2 –¥–Ω—è) ‚úÖ
  - [x] 8.1. –ú–∏–≥—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π: bonuses_and_penalties ‚Üí rules_engine, shift_tasks ‚Üí tasks_v2
  - [x] 8.2. Backward compatibility —á–µ—Ä–µ–∑ LEGACY_FEATURE_MAPPING
  - [x] 8.3. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏—á–∞ `incidents` –≤ system_features
  - [x] 8.4. SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –ë–î + –æ—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- [x] 9. Critical Bug Fixes (2 –¥–Ω—è) ‚úÖ
  - [x] 9.1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–≤–µ—Ä—Å–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á v2 –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–º–µ–Ω—ã
  - [x] 9.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞ –¥–ª—è Tasks v2 (ImportError, AttributeError)
  - [x] 9.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω created_by –≤ task_bonuses (user_id=1 ‚Üí 9)
  - [x] 9.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–æ—É—Ç–∏–Ω–≥ payroll-adjustments (–¥–≤–æ–π–Ω–æ–π –ø—Ä–µ—Ñ–∏–∫—Å)
- [x] 10. –¢–µ—Å—Ç—ã (1 –¥–µ–Ω—å) ‚úÖ
  - [x] Unit —Ç–µ—Å—Ç—ã: Rules Engine, TaskService, Media Orchestrator
  - [x] Integration —Ç–µ—Å—Ç—ã: –∑–∞–¥–∞—á–∏ v2, –ø—Ä–∞–≤–∏–ª–∞, –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã
  - [x] E2E —Ç–µ—Å—Ç—ã: 3 –ø–æ–ª–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è
- [x] 11. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1 –¥–µ–Ω—å) ‚úÖ
  - [x] ITERATION_36_CHANGES.md - —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç
  - [x] TASK_STATUS_INVERSION_BUG.md - –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ—à–µ–Ω–∏–µ
  - [x] TASK_MEDIA_UPLOAD_BUG.md - –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ—à–µ–Ω–∏–µ
  - [x] FEATURE_KEYS_MISMATCH_ANALYSIS.md - –∞–Ω–∞–ª–∏–∑ –º–∏–≥—Ä–∞—Ü–∏–∏
  - [x] MIGRATE_FEATURE_KEYS.sql - SQL –º–∏–≥—Ä–∞—Ü–∏—è
  - [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ vision_v1/

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **–ö–æ–º–º–∏—Ç–æ–≤:** 88
- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 150+
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** ~50
- **–ú–∏–≥—Ä–∞—Ü–∏–π –ë–î:** 3
- **Unit —Ç–µ—Å—Ç–æ–≤:** 15+
- **Integration —Ç–µ—Å—Ç–æ–≤:** 8+

### Acceptance Criteria:
- [x] Rules Engine —Ä–∞–±–æ—Ç–∞–µ—Ç —Å fallback –Ω–∞ legacy ‚úÖ
- [x] Tasks v2 –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è owner/manager/employee ‚úÖ
- [x] UI –ø—Ä–∞–≤–∏–ª/–∑–∞–¥–∞—á/–∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω (–±–∞–∑–æ–≤—ã–π CRUD) ‚úÖ
- [x] Legacy-–ø–æ–ª—è –ø–æ–º–µ—á–µ–Ω—ã deprecated (readonly + –∞–ª–µ—Ä—Ç—ã) ‚úÖ
- [x] –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MediaOrchestrator (Tasks v2) ‚úÖ
- [x] Feature keys migration –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ
- [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ‚úÖ
- [x] –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ Rules Engine –¥–ª—è –≤—Å–µ—Ö —à—Ç—Ä–∞—Ñ–æ–≤/–ø—Ä–µ–º–∏–π
- ‚úÖ Tasks v2 —Å –ø–æ–ª–Ω—ã–º lifecycle management
- ‚úÖ Incidents MVP –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–π
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞ —á–µ—Ä–µ–∑ Media Orchestrator
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é –∏ —Ñ–∏—á
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production –±–µ–∑ –æ—à–∏–±–æ–∫

### DoD:
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ ‚úÖ
- [x] Merge –≤ main –≤—ã–ø–æ–ª–Ω–µ–Ω ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [–°–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç](../ITERATION_36_CHANGES.md)
- [Rules Tasks Refactoring Status](../RULES_TASKS_REFACTORING_STATUS.md)
- [Task Status Inversion Bug](../TASK_STATUS_INVERSION_BUG.md)
- [Task Media Upload Bug](../TASK_MEDIA_UPLOAD_BUG.md)
- [Feature Keys Mismatch Analysis](../FEATURE_KEYS_MISMATCH_ANALYSIS.md)
**–ü–æ—Å—Ç-—Ñ–∏–∫—Å 30.10.2025:** –î–µ—Ç–∞–ª–∏ —Å–º–µ–Ω—ã (Owner) ‚Äî –∑–∞–¥–∞—á–∏ –∏–∑ `TaskEntryV2` –≤–º–µ—Å—Ç–æ legacy `shift_tasks`.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 37: –ù–æ–≤—ã–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 0.5 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∏–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞: —Ñ–∏–∫—Å—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ª–æ–≥–∏–Ω–∞, –∞–≤—Ç–æ–ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏—á –∏–∑ –ø–ª–∞–Ω–∞ –∏ —Ä–µ–¥–∏–∑–∞–π–Ω –¥–∞—à–±–æ—Ä–¥–∞.

### –ó–∞–¥–∞—á–∏

- [x] –£–¥–∞–ª–∏—Ç—å dev-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è —Ç–µ—Å—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- [x] –§–∏–∫—Å —Ñ–æ—Ä–º—ã –ª–æ–≥–∏–Ω–∞: –∞–≤—Ç–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ telegram_id –∏–∑ query, PIN –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
- [x] –ê–≤—Ç–æ–ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ —Å is_popular=true –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ)
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏—á —Å—Ç—Ä–æ–≥–æ –∏–∑ `tariff_plan.features`
- [x] –†–µ–¥–∏–∑–∞–π–Ω –¥–∞—à–±–æ—Ä–¥–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞: —Ç–∞–±–ª–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–æ–≤ + 5 –±–ª–æ–∫–æ–≤ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –∏ CTA

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞ telegram_id/PIN –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ
- ‚úÖ –í–ª–∞–¥–µ–ª—å—Ü—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è ¬´–ü–æ–ø—É–ª—è—Ä–Ω—ã–π¬ª —Ç–∞—Ä–∏—Ñ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- ‚úÖ –§–∏—á–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –∏–∑ —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (–±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è)
- ‚úÖ –î–∞—à–±–æ—Ä–¥ —Å—Ç–∞–ª –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ CTA

### DoD
- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ dev
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (roadmap)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 36: In-App —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–∞—Ç–∞:** 31.10.2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ In-App —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫ —Å –¥—Ä–æ–ø–¥–∞—É–Ω–æ–º, –±–µ–π–¥–∂ —Å –ø—É–ª–ª–∏–Ω–≥–æ–º, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

**–ó–∞–¥–∞—á–∏:**
- [x] 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É DOM –≤ `applications_badge.js` (—Ä–∞–±–æ—Ç–∞ —Å `?v=` –≤ –ø—É—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∞)
- [x] 2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫ —Å –±–µ–π–¥–∂–µ–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Manager (`manager/base_manager.html`)
- [x] 3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥—Ä–æ–ø–¥–∞—É–Ω –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞ (10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö, –∫–Ω–æ–ø–∫–∞ "–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ")
  - [x] –°–∫—Ä–∏–ø—Ç `apps/web/static/js/shared/notifications_dropdown.js`
  - [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ `owner/base_owner.html`
- [x] 4. API –º–µ—Ç–æ–¥—ã –≤ `NotificationService`:
  - [x] `get_user_notification_settings(user_id)`
  - [x] `set_user_notification_preference(user_id, type, telegram, inapp)`
- [x] 5. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤–ª–∞–¥–µ–ª—å—Ü–∞ `/owner/notifications/settings`
  - [x] –®–∞–±–ª–æ–Ω `owner/notifications_settings.html`
  - [x] –†–æ—É—Ç—ã GET/POST –≤ `apps/web/routes/notifications.py`
  - [x] –ö–æ–Ω—Ç—Ä–æ–ª—å —Ñ–∏—á–µ–π `notifications_settings`
- [x] 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (`DOCUMENTATION_RULES.md`, `roadmap.md`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–æ–ª–æ–∫–æ–ª—å—á–∏–∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –î—Ä–æ–ø–¥–∞—É–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (send_notification_now)
- ‚úÖ In-App —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–Ω–∞–ª–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —Ç–∏–ø–∞–º

---

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 40: –®—Ç—Ä–∞—Ñ –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–µ –Ω–∞ –≤–µ—á–µ—Ä–Ω—é—é —Å–º–µ–Ω—É –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–∞—Ç–∞:** 1 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–∞ "–®—Ç—Ä–∞—Ñ –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–µ –Ω–∞ –≤–µ—á–µ—Ä–Ω—é—é —Å–º–µ–Ω—É (–∏–ª–∏ –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è)" –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞–Ω–Ω–µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–∞—à–±–æ—Ä–¥–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–∞ "–®—Ç—Ä–∞—Ñ –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–µ –Ω–∞ –≤–µ—á–µ—Ä–Ω—é—é —Å–º–µ–Ω—É" (0.3 –¥–Ω—è)**
  - Type: feature | Files: migrations/versions/0827df3c36e3_add_rule_penalty_non_standard_shift.py
  - Acceptance: –ø—Ä–∞–≤–∏–ª–æ —Å–æ–∑–¥–∞–Ω–æ —Å code='penalty_non_standard_shift', scope='late', —É—Å–ª–æ–≤–∏–µ planned_start_matches_opening_time=False

- [x] **1.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª–∞ –≤ –ª–æ–≥–∏–∫—É —à—Ç—Ä–∞—Ñ–æ–≤ (0.3 –¥–Ω—è)**
  - Type: feature | Files: core/celery/tasks/adjustment_tasks.py
  - Acceptance: –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ planned_start —Å opening_time; –¥–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å–º–µ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–æ

- [x] **1.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞–Ω–Ω–µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ –¥–∞—à–±–æ—Ä–¥–µ (0.2 –¥–Ω—è)**
  - Type: bugfix | Files: apps/web/routes/owner.py
  - Acceptance: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è obj.timezone –≤–º–µ—Å—Ç–æ timezone_helper.local_tz –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ expected_close –∏ actual_close_local

- [x] **1.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —à—Ç—Ä–∞—Ñ–æ–≤ (0.2 –¥–Ω—è)**
  - Type: testing | Files: scripts/test_penalty_logic.py, doc/TEST_REPORT_PENALTY_LOGIC.md
  - Acceptance: —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∏ –æ—Ç—á—ë—Ç —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ª–æ–≥–∏–∫–∏

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ê–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–æ:**
- –°–æ–∑–¥–∞–Ω–æ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ `penalty_non_standard_shift` —Å —É—Å–ª–æ–≤–∏–µ–º `planned_start_matches_opening_time: False`
- –ü—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Å–º–µ–Ω, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–µ –≤ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –æ–±—ä–µ–∫—Ç–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–ª–∞–≥ `penalize_late_start` –≤ —Ç–∞–π–º-—Å–ª–æ—Ç–µ, –∑–∞—Ç–µ–º –ø—Ä–∞–≤–∏–ª–æ

**–õ–æ–≥–∏–∫–∞ —à—Ç—Ä–∞—Ñ–æ–≤:**
1. –ï—Å–ª–∏ `planned_start == opening_time` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `penalize_late_start` –∏–∑ —Ç–∞–π–º-—Å–ª–æ—Ç–∞
2. –ï—Å–ª–∏ `planned_start != opening_time`:
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –µ—Å–ª–∏ –≤ —Ç–∞–π–º-—Å–ª–æ—Ç–µ `penalize_late_start = True` ‚Üí –≤—Å–µ–≥–¥–∞ —à—Ç—Ä–∞—Ñ—É–µ—Ç—Å—è
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–æ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ ‚Üí —à—Ç—Ä–∞—Ñ—É–µ—Ç—Å—è)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `obj.timezone` –≤–º–µ—Å—Ç–æ `timezone_helper.local_tz` –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ `expected_close`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `obj.timezone` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ `actual_close_local` –∏–∑ UTC
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É "–†–∞–Ω–Ω–µ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ" –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–∞—Ö

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `test_penalty_logic.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–º–µ–Ω–∞ 345)
- –°–æ–∑–¥–∞–Ω –æ—Ç—á—ë—Ç `TEST_REPORT_PENALTY_LOGIC.md`

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –ê–≤—Ç–æ–ø—Ä–∞–≤–∏–ª–æ —Å–æ–∑–¥–∞–Ω–æ –∏ –∞–∫—Ç–∏–≤–Ω–æ
- ‚úÖ –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è planned_start —Å opening_time —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–∞–π–º-—Å–ª–æ—Ç–∞ –Ω–∞–¥ –ø—Ä–∞–≤–∏–ª–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å–º–µ–Ω –±–µ–∑ —è–≤–Ω–æ–≥–æ —à—Ç—Ä–∞—Ñ–∞ –≤ —Ç–∞–π–º-—Å–ª–æ—Ç–µ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å—á—ë—Ç–æ–º —Ä–∞–Ω–Ω–µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–∞—Ö
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production

### DoD

- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (TEST_REPORT_PENALTY_LOGIC.md, ANALYSIS_EARLY_CLOSING_*.md) ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [TEST_REPORT_PENALTY_LOGIC.md](../TEST_REPORT_PENALTY_LOGIC.md)
- [ANALYSIS_EARLY_CLOSING_ROOT_CAUSE.md](../ANALYSIS_EARLY_CLOSING_ROOT_CAUSE.md)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 41: DevOps Command Center ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞  
**–î–∞—Ç–∞:** 3 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è DevOps Command Center –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –ó–∞–¥–∞—á–∏

- [x] **1.1. Support Hub (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)** ‚úÖ
  - Type: feature | Files: apps/web/routes/support.py, apps/web/templates/support/*
  - Acceptance: —Ä–∞–±–æ—Ç–∞—é—Ç /support, /support/bug, /support/faq, /support/my-bugs —Å —Ä–æ–ª–µ–≤—ã–º–∏ –º–µ–Ω—é

- [x] **1.2. SQL –º–∏–≥—Ä–∞—Ü–∏–∏ DevOps** ‚úÖ
  - Type: feature | Files: migrations/versions/26f081e4388f_*.py
  - Acceptance: —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã bug_logs, deployments, changelog_entries, faq_entries

- [x] **1.3. Telegram bot support** ‚úÖ
  - Type: feature | Files: apps/bot/handlers_div/support_handlers.py
  - Acceptance: —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã /support, /bug (FSM), /faq

- [x] **1.4. Telegram bot admin** ‚úÖ
  - Type: feature | Files: apps/bot/handlers_div/admin_handlers.py
  - Acceptance: —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã /morning, /devops –¥–ª—è owner/superadmin

- [x] **1.5. Admin DevOps Dashboard** ‚úÖ
  - Type: feature | Files: apps/web/routes/admin.py, apps/web/templates/admin/devops.html
  - Acceptance: —Ä–∞–±–æ—Ç–∞–µ—Ç /admin/devops —Å DORA –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ GitHub Issues

- [x] **1.6. GitHub Actions CI/CD** ‚úÖ
  - Type: feature | Files: .github/workflows/main.yml, doc/GITHUB_ACTIONS_SETUP.md
  - Acceptance: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ production, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –ë–î

- [x] **1.7. GitHub Service** ‚úÖ
  - Type: feature | Files: apps/web/services/github_service.py, core/config/settings.py
  - Acceptance: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ GitHub Issues

- [x] **1.8. DORA Metrics Service** ‚úÖ
  - Type: feature | Files: apps/web/routes/admin.py, domain/entities/deployment.py
  - Acceptance: —Ä–∞—Å—á—ë—Ç Deployment Frequency, Change Failure Rate –∏–∑ –ë–î

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. Support Hub ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –±–∞–≥–æ–≤/FAQ
2. Admin DevOps Dashboard ‚Äî DORA –º–µ—Ç—Ä–∏–∫–∏, —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
3. Telegram Bot Support ‚Äî /support, /bug, /faq
4. Telegram Bot Admin ‚Äî /morning, /devops
5. GitHub Actions CI/CD ‚Äî —Ç–µ—Å—Ç—ã, –¥–µ–ø–ª–æ–π, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
6. DORA Metrics ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –∏–∑ –ë–î

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- `bug_logs` ‚Äî –æ—Ç—á–µ—Ç—ã –æ –±–∞–≥–∞—Ö
- `deployments` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ–µ–≤ (–∞–≤—Ç–æ—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions)
- `changelog_entries` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- `faq_entries` ‚Äî –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- GitHub Issues API
- GitHub Actions –¥–ª—è CI/CD
- Telegram bot –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–µ–ø–ª–æ–µ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è CI/CD –¥–µ–ø–ª–æ–µ–≤
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitHub Issues
- ‚úÖ Dashboard –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–µ–ø–ª–æ–µ–≤ –≤ –ë–î
- ‚úÖ DORA –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### DoD

- [x] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã ‚úÖ
- [x] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ dev ‚úÖ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (DEVOPS_COMMAND_CENTER.md, GITHUB_ACTIONS_SETUP.md) ‚úÖ
- [x] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production ‚úÖ

### –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [DevOps Command Center](../DEVOPS_COMMAND_CENTER.md)
- [GitHub Actions Setup](../GITHUB_ACTIONS_SETUP.md)

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç roadmap –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Ç–µ—Ä–∞—Ü–∏–π. –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

## –ò—Ç–µ—Ä–∞—Ü–∏—è 42: Payroll Bugfixes (Owner filters/recalc/adjustments)

**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–±–æ—Ç–µ  
**–î–∞—Ç–∞:** 4 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Ä–∞—Å—á—ë—Ç–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞.

### –ó–∞–¥–∞—á–∏
- [x] –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ `employee_id` –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç –≤ `/owner/payroll`  
  - Type: bugfix | Files: `apps/web/routes/payroll.py`, —à–∞–±–ª–æ–Ω —Å–ø–∏—Å–∫–∞
- [x] –§–∏–ª—å—Ç—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—é –ø–µ—Ä–∏–æ–¥–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ (—É—á—ë—Ç `termination_date`) –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ `–§–∞–º–∏–ª–∏—è –ò–º—è`  
  - Type: improvement | Files: `apps/web/routes/payroll.py`, `apps/web/templates/owner/payroll/list.html`
- [x] –†—É—á–Ω–æ–π –ø–µ—Ä–µ—Å—á—ë—Ç: –≤–∫–ª—é—á–µ–Ω–∏–µ terminated –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Å policy `termination_date` –ø—Ä–∏ `period_end <= termination_date`  
  - Type: bugfix | Files: `apps/web/routes/payroll.py`
- [x] –°–º—è–≥—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ –æ–±—ä–µ–∫—Ç–∞–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–ø—Ä—è–º–æ/—á–µ—Ä–µ–∑ ShiftSchedule)  
  - Type: improvement | Files: `apps/web/routes/owner_payroll_adjustments.py`
- [ ] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–µ–π—Å–æ–≤ —Å ¬´–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏¬ª –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤)  
  - Type: data-fix | SQL –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã
- [ ] –î–æ–ø. —Ç–µ—Å—Ç—ã –¥–ª—è verify-–ø–æ—Ç–æ–∫–∞ –∏ –æ—Ç—á—ë—Ç–∞ –≤—ã–ø–ª–∞—Ç  
  - Type: testing

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
+- –û–±–Ω–æ–≤–ª–µ–Ω—ã: `doc/vision_v1/entities/payroll.md`, `doc/vision_v1/roles/owner.md`

### DoD (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π)
- [x] –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã  
- [x] –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ—Ç—Ä–∞–∂–µ–Ω–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏  
- [ ] –ü—Ä–æ–π–¥–µ–Ω–æ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ dev  
- [ ] –ü—Ä–æ–π–¥–µ–Ω–æ —Ä–µ–≤—å—é –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –ø—Ä–æ–µ–∫—Ç–∞

## –ò—Ç–µ—Ä–∞—Ü–∏—è 43: –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Owner, Login, Manager)

**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–±–æ—Ç–µ (–§–∞–∑–∞ 1: 14/14 –∑–∞–¥–∞—á ‚úÖ, –§–∞–∑–∞ 2: 2/2 –∑–∞–¥–∞—á ‚úÖ, –§–∞–∑–∞ 3: 14/21 –∑–∞–¥–∞—á, –§–∞–∑–∞ 4: 3/3 –∑–∞–¥–∞—á ‚úÖ)  
**–î–∞—Ç–∞:** 5 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è UX –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –ª–æ–≥–∏–Ω–∞ –∏ —É–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ.

### –§–∞–∑—ã

- [x] **–§–∞–∑–∞ 1:** –í–ª–∞–¥–µ–ª–µ—Ü ‚úÖ
  - [x] 1.1. `/owner/employees`: –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –ø—Ä–∏ –≤–≤–æ–¥–µ (–±–µ–∑ Enter) ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä
  - [x] 1.2. `/owner/objects`:
    - [x] –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞: `?view_mode=list` ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ —Ä–æ—É—Ç–µ
    - [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ù–∞–∑–≤–∞–Ω–∏—é –∏ –ê–¥—Ä–µ—Å—É –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ (–∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫) ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä
    - [x] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º; –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–æ–ª—å–∫–æ –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ
  - [x] 1.3. `/owner/shifts` (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–º–µ–Ω):
    - [x] –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: ¬´–§–∞–º–∏–ª–∏—è –ò–º—è¬ª (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –§–∞–º–∏–ª–∏–∏, –∑–∞—Ç–µ–º –ò–º–µ–Ω–∏)
    - [x] –§–∏–ª—å—Ç—Ä—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö: –°–æ—Ç—Ä—É–¥–Ω–∏–∫, –°—Ç–∞—Ç—É—Å ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä (–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫), –û–±—ä–µ–∫—Ç –∏ –î–∞—Ç–∞ ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä
    - [x] –ü–æ–ª–µ –î–∞—Ç–∞ ‚Äî –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ (—Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä)
    - [x] –ü–æ–∫–∞–∑ —Å—Ç—Ä–µ–ª–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ –∏ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
    - [x] –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò) ‚Äî –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∫–∞–∫ –Ω–∞ `/owner/payroll/adjustments`
  - [x] 1.4. `/owner/timeslots/` (—Ç–∞–π–º-—Å–ª–æ—Ç—ã):
    - [x] –ö–Ω–æ–ø–∫–∏ ¬´–°–æ–∑–¥–∞—Ç—å —Ç–∞–π–º-—Å–ª–æ—Ç¬ª –∏ ¬´–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ¬ª –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–µ
    - [x] 1.4.1. –ú–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ ¬´–û—Ç–º–µ–Ω–∏—Ç—å —à—Ç—Ä–∞—Ñ—ã –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏—è¬ª
    - [x] 1.4.2. –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–µ ¬´–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞¬ª –∏–∑ —Ñ–æ—Ä–º —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/–º–∞—Å—Å–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–∑ –º–æ–¥–µ–ª–∏ (—É—Å—Ç–∞—Ä–µ–ª–æ)
  - [x] 1.5. `/owner/payroll` (—Ñ–æ—Ä–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π):
    - [x] –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –§–∞–º–∏–ª–∏–∏, –∑–∞—Ç–µ–º –ò–º–µ–Ω–∏
    - [x] –§–∏–ª—å—Ç—Ä –ø–æ –æ–±—ä–µ–∫—Ç–∞–º –≤–º–µ—Å—Ç–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä –ø–æ –§–ò–û –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Ç–∞–±–ª–∏—Ü—ã
    - [x] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—è–º ID, –°–æ—Ç—Ä—É–¥–Ω–∏–∫, –ü–µ—Ä–∏–æ–¥ ‚Äî –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)
    - [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–º–µ–Ω (–ü–µ—Ä–≤–∞—è, –ù–∞–∑–∞–¥, X / Y, –í–ø–µ—Ä–µ–¥, –ü–æ—Å–ª–µ–¥–Ω—è—è)
  - [x] 1.6. `/owner/payroll/adjustments` (—Ç–∞–±–ª–∏—Ü–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫/–Ω–∞—á–∏—Å–ª–µ–Ω–∏–π):
    - [x] 1.6.1. –î–ª—è —Ç–∏–ø–∞ ¬´–ë–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ –∑–∞ —Å–º–µ–Ω—É¬ª ‚Äî –≤ —Å—Ç–æ–ª–±—Ü–µ ¬´–û–ø–∏—Å–∞–Ω–∏–µ¬ª –≤—ã–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Å–º–µ–Ω—É –≤–∏–¥–∞ `/owner/shifts/<shift_id>?shift_type=shift`
    - [x] 1.6.2. –†—É—á–Ω—ã–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –¥–æ–ø–ª–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–µ –∫–∞–∫ ¬´–†—É—á–Ω–æ–π —à—Ç—Ä–∞—Ñ¬ª, –∞ —Å —á–µ–ª–æ–≤–µ–∫–æ‚Äë—á–∏—Ç–∞–µ–º—ã–º–∏ —Ç–∏–ø–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–ù–∞–ª–æ–≥¬ª, ¬´–ó–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç¬ª, ¬´–°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ¬ª) —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∏–ø–∞–º —É–¥–µ—Ä–∂–∞–Ω–∏–π/–¥–æ–ø–ª–∞—Ç ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω `get_type_label()` –≤ –º–æ–¥–µ–ª–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤ `details`
  - [x] 1.7. –î–∞—à–±–æ—Ä–¥:
    - [x] 1.7.1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É ¬´–û—Ç–∫—Ä—ã—Ç–æ —Å –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º¬ª: —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–º–µ–Ω—ã, –Ω–∞—á–∞–ª–æ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫; —Å–º–µ–Ω—ã —Å –¥—Ä—É–≥–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –Ω–∞—á–∞–ª–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–±—ä–µ–∫—Ç–∞
    - [x] 1.7.2. –í—ã–≤–æ–¥–∏—Ç—å –§–ò–û —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–ª –æ–±—ä–µ–∫—Ç –≤–æ–≤—Ä–µ–º—è (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã—Ö —Å–º–µ–Ω, —Å–º–µ–Ω —Å –æ–ø–æ–∑–¥–∞–Ω–∏—è–º–∏ –∏ —Ä–∞–Ω–Ω–µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è)
  - [x] 1.8. –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:
    - [x] 1.8.1. –í —Ñ–æ—Ä–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ `/owner/employees/{id}` –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º—è, —Ñ–∞–º–∏–ª–∏—é, —Ç–µ–ª–µ—Ñ–æ–Ω, email –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    - [x] 1.8.2. –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ `/owner/employees/create` –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –∏–º—è, —Ñ–∞–º–∏–ª–∏—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö –≤ –ø—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  - [x] 1.9. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω –≤–º–µ—Å—Ç–æ –º–æ–¥–∞–ª–∫–∏ ¬´–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω¬ª —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/owner/shifts/`
  - [x] 1.10. –í –∫–∞–ª–µ–Ω–¥–∞—Ä–µ `/owner/calendar` –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–º–µ–Ω—É –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (1.9) —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º; –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–º–µ–Ω—ã¬ª –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –æ—Ç–∫—É–¥–∞ –≤—ã–∑–≤–∞–ª–∏ (–∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏–ª–∏ —Å–º–µ–Ω—ã)
  - [x] 1.11. –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤–ª–∞–¥–µ–ª—å—Ü–∞: –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–∞–Ω—è—Ç–æ—Å—Ç—å —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (—É—á—ë—Ç `max_employees`), –≤–≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç—É—Å—ã ¬´–°–≤–æ–±–æ–¥–Ω–æ / –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ / –ù–µ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å¬ª, –æ–±–Ω–æ–≤–∏—Ç—å API –∏ UI  
        - [x] –û–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª, –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å)  
        - [x] –î–æ–≤–µ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç `occupancy_ratio` –∏ fallback API –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π (owner/manager/employee)  
        - [x] –§–∏–Ω–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ ¬´–°–≤–æ–±–æ–¥–Ω–æ / –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ / –ù–µ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å¬ª, –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  - [x] 1.12. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–º–µ–Ω –≤–ª–∞–¥–µ–ª—å—Ü–∞: –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –ø–æ `return_to`  
        - [x] –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏/–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
        - [x] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∫–∞–º–∏ –≤ `UniversalCalendarManager`

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ DoD (–¥–ª—è –§–∞–∑—ã 1)

- –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- –ï–¥–∏–Ω—ã–π UX –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: —Å—Ç—Ä–µ–ª–∫–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ
- –§–∏–ª—å—Ç—Ä—ã —Å—É–º–º–∏—Ä—É—é—Ç—Å—è (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò) –∏ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∏–¥–∞
- –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ ‚Äî –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ä–µ–∂–∏–º —Å–ø–∏—Å–∫–∞ `view_mode=list`

- [x] **–§–∞–∑–∞ 2: –§–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞** ‚úÖ
  - [x] 2.1. `/auth/login` ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É PIN-–∫–æ–¥–∞: –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥", –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –∏ –Ω–∞–∂–∞—Ç–∏—è "–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É" –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—Å–µ–π—á–∞—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π PIN-–∫–æ–¥ –∏–ª–∏ –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ", –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ–ª–æ–≥–æ–Ω –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–æ–¥–∞)
  - [x] 2.2. –í –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∫–Ω–æ–ø–∫–∞ "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–∫–æ–º –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥"

- [ ] **–§–∞–∑–∞ 3: –£–ø—Ä–∞–≤–ª—è—é—â–∏–π**
  - [x] 3.1. –î–∞—à–±–æ—Ä–¥ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ (`/manager/dashboard`): ‚úÖ
    - [x] 3.1.1. "–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ "–û–±—ä–µ–∫—Ç—ã" –∏ —Å–¥–µ–ª–∞—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏, –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–ª–∏–∫—É –Ω–∞ `/manager/objects`
    - [x] 3.1.2. "–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–º–µ–Ω—ã" —Å–¥–µ–ª–∞—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏, –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–ª–∏–∫—É –Ω–∞ `/manager/shifts?status=active&object_id=&dateRange=&date_from=&date_to=`
    - [x] 3.1.3. "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏" —Å–¥–µ–ª–∞—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏, –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–ª–∏–∫—É –Ω–∞ `/manager/employees`
    - [x] 3.1.4. "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–º–µ–Ω—ã" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ", –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—á–µ—Ç—á–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–µ–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (—Å–µ–π—á–∞—Å), –ø–æ –∫–ª–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥ –≤ `/manager/calendar` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–æ–ª–ª–æ–º –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å
    - [x] 3.1.5. –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ü–∏—é "–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"
    - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–¥—Å—á–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏ —É –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —É —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ
  - [x] 3.2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/objects`: ‚úÖ
    - [x] –£–±—Ä–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é —Ç–∞–∫–∏–µ –∂–µ –∫–∞–∫ –Ω–∞ `/owner/shifts/`
    - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö (–Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ)
  - [x] 3.3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/employees`: ‚úÖ
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é —Ç–∞–∫–∏–µ –∂–µ –∫–∞–∫ –Ω–∞ `/owner/shifts/`
    - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö (–Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ)
  - [x] 3.4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/contracts/{contract_id}/edit`: ‚úÖ
    - [x] –í —Ä–∞–∑–¥–µ–ª–µ "–î–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç–∞–º" –≤–º–µ—Å—Ç–æ –Ω–∞–¥–ø–∏—Å–∏ "–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è." –≤—ã–≤–æ–¥–∏—Ç—å –ø–µ—Ä–µ—á–µ–Ω—å –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–º –¥–æ–≥–æ–≤–æ—Ä–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  - [x] 3.5. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/employees/{employee_id}/shifts`: ‚úÖ
    - [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–º–µ–Ω —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã –æ–±—ä–µ–∫—Ç–∞
  - [x] 3.6. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ: ‚úÖ
    - [x] –ù–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º—ã "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω", –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/manager/shifts`, —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω, —á—Ç–æ–±—ã –æ–Ω–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–ª–∞—Å—å –∏ —É–º–µ—â–∞–ª–∞—Å—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
  - [x] 3.7. –ö–∞–ª–µ–Ω–¥–∞—Ä—å (`/manager/calendar`): ‚úÖ
    - [x] 3.7.1. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø—É—Å—Ç–æ–π –¥–µ–Ω—å —Å–¥–µ–ª–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–π–º-—Å–ª–æ—Ç–∞ —Å –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞ (–µ—Å–ª–∏ –æ–Ω –≤—ã–±—Ä–∞–Ω –≤ —Ñ–∏–ª—å—Ç—Ä–µ) –∏ —Ä–∞—Å—á–µ—Ç–æ–º —Å–≤–æ–±–æ–¥–Ω—ã—Ö –æ–∫–æ–Ω –≤ —Ä–∞–±–æ—Ç–µ –æ–±—ä–µ–∫—Ç–∞
    - [x] 3.7.2. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–º–µ–Ω—É —Å–¥–µ–ª–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤ –ø—É–Ω–∫—Ç–µ 3.6. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–º–µ–Ω—ã" –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ–∑–≤—Ä–∞—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ –≤—ã–∑–≤–∞–Ω–∞ –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, –∏ –≤ —Å–º–µ–Ω—ã, –µ—Å–ª–∏ –æ—Ç—Ç—É–¥–∞
    - [x] 3.7.3. –£–±—Ä–∞—Ç—å drag&drop —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
  - [x] 3.8. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/timeslots`: ‚úÖ
    - [x] –°–¥–µ–ª–∞—Ç—å —Ç–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Ç–∞–∫–∏–µ –∂–µ –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/owner/timeslots/`
  - [x] 3.9. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/timeslots/object/{object_id}`: ‚úÖ
    - [x] –í –º–æ–¥–∞–ª–∫–µ "–ú–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤" —É–±—Ä–∞—Ç—å –ø—É–Ω–∫—Ç "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞"
    - [x] –î–æ–±–∞–≤–∏—Ç—å –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ –ø—É–Ω–∫—Ç "–û—Ç–º–µ–Ω–∏—Ç—å —à—Ç—Ä–∞—Ñ—ã –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏—è"
    - [x] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç–æ –ø–æ–ª–µ "–û—Ç–º–µ–Ω–∏—Ç—å —à—Ç—Ä–∞—Ñ—ã –∑–∞ –æ–ø–æ–∑–¥–∞–Ω–∏—è"
    - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –º–æ–¥–∞–ª–∫–∏
  - [x] 3.10. –§–æ—Ä–º—ã —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ: ‚úÖ
    - [x] –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/manager/timeslots/object/{object_id}/create` —É–±—Ä–∞—Ç—å –ø–æ–ª–µ "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞"
    - [x] –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/manager/timeslots/object/{object_id}/edit` —É–±—Ä–∞—Ç—å –ø–æ–ª–µ "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞"
  - [ ] 3.11. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/shifts`:
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é —Ç–∞–∫–∏–µ –∂–µ –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/owner/shifts/`
      - [x] –ê–≤—Ç–æ‚Äë–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Å—Ç–∞—Ç—É—Å/–æ–±—ä–µ–∫—Ç/–ø–µ—Ä–∏–æ–¥) –±–µ–∑ –∫–Ω–æ–ø–∫–∏
      - [x] –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–µ—Ä–∏–æ–¥–∞
      - [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –§–ò–û ¬´–§–∞–º–∏–ª–∏—è –ò–º—è¬ª –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∞–º–∏–ª–∏–∏, –∑–∞—Ç–µ–º –∏–º–µ–Ω–∏
  - [ ] 3.12. –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ:
    - [x] –£–±—Ä–∞—Ç—å –º–µ–Ω—é "–û—Ç–∑—ã–≤—ã" —É —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ
  - [x] 3.13. –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ: ‚úÖ
    - [x] 3.13.1. –ó–∞–¥–∞—á–∏:
      - [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –º–µ–Ω—é "–ó–∞–¥–∞—á–∏" —Å —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–º–∏—Å—è –ø–æ–¥–º–µ–Ω—é (–∫–∞–∫ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞)
      - [x] –ü–æ–¥–º–µ–Ω—é "–®–∞–±–ª–æ–Ω—ã" ‚Äî `/manager/tasks/templates` (—Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞—á –¥–ª—è –≤—Å–µ—Ö –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, –∫ —á—å–∏–º –æ–±—ä–µ–∫—Ç–∞–º –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø)
      - [x] –ü–æ–¥–º–µ–Ω—é "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ" ‚Äî `/manager/tasks/plan` (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á)
      - [x] –ü–æ–¥–º–µ–Ω—é "–ê—É–¥–∏—Ç" ‚Äî `/manager/tasks/entries` (—Å–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –¥–ª—è –≤—Å–µ—Ö –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, –∫ —á—å–∏–º –æ–±—ä–µ–∫—Ç–∞–º –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø)
      - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –æ–±—ä–µ–∫—Ç–∞–º –≤ —à–∞–±–ª–æ–Ω–∞—Ö –∏ –∑–∞–ø–∏—Å—è—Ö –∑–∞–¥–∞—á
      - [x] –ú–µ–Ω—é –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã—Ç–æ (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ `base_manager.html`)
    - [x] 3.13.2. –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã:
      - [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –º–µ–Ω—é "–ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã" ‚Äî `/manager/incidents` (–∫–∞–∫ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞)
      - [x] –°–ø–∏—Å–æ–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ (`/manager/incidents`):
        - [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –æ–±—ä–µ–∫—Ç—É –∏ —Å—Ç–∞—Ç—É—Å—É
        - [x] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Å–µ–º —Å—Ç–æ–ª–±—Ü–∞–º (–∫—Ä–æ–º–µ "–î–µ–π—Å—Ç–≤–∏—è")
        - [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–º–µ–Ω (–ü–µ—Ä–≤–∞—è/–ù–∞–∑–∞–¥ X/Y –í–ø–µ—Ä–µ–¥/–ü–æ—Å–ª–µ–¥–Ω—è—è, 25/50/100)
        - [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: "–§–∞–º–∏–ª–∏—è –ò–º—è"
        - [x] –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –í–∑—è—Ç—å –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ, –†–µ—à–∏—Ç—å, –û—Ç–∫–ª–æ–Ω–∏—Ç—å (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞)
        - [x] –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å —Ü–≤–µ—Ç–∞–º–∏
        - [x] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ (table-danger –¥–ª—è critical, table-warning –¥–ª—è high)
      - [x] –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (`/manager/incidents/create`):
        - [x] –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: –æ–±—ä–µ–∫—Ç, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å, —É—â–µ—Ä–±, –Ω–æ–º–µ—Ä –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –¥–∞—Ç–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ
        - [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
        - [x] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –¥–æ –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞
        - [x] API endpoint `/manager/incidents/api/categories` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ –æ–±—ä–µ–∫—Ç—É
      - [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (`/manager/incidents/{id}/edit`):
        - [x] –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ç–µ–º–∏ –∂–µ –ø–æ–ª—è–º–∏, —á—Ç–æ –∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
        - [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –æ–±—ä–µ–∫—Ç—É (–∫–∞–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)
        - [x] –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        - [x] –ü–æ–ª–µ —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
        - [x] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤—Å–µ—Ö –ø–æ–ª–µ–π, –≤–∫–ª—é—á–∞—è "–°—É–º–º–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è" –∏ "–î–∞—Ç–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è"
        - [x] –ó–∞–ø—Ä–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è resolved/rejected –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–µ –∏ —à–∞–±–ª–æ–Ω–µ)
        - [x] –ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
          - [x] –°—Ç–∞—Ä–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–æ–ø–ª–∞—Ç–∞ (–≤–æ–∑–≤—Ä–∞—Ç —É–¥–µ—Ä–∂–∞–Ω–∏—è) —Å –¥–∞—Ç–æ–π –ø–æ –ª–æ–≥–∏–∫–µ –¥–æ–ø–ª–∞—Ç
          - [x] –ù–æ–≤–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É —Å–æ–∑–¥–∞–µ—Ç—Å—è —É–¥–µ—Ä–∂–∞–Ω–∏–µ —Å –¥–∞—Ç–æ–π –ø–æ –ª–æ–≥–∏–∫–µ —É–¥–µ—Ä–∂–∞–Ω–∏–π
      - [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (`/manager/incidents/{id}/status`):
        - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `IncidentService.update_incident_status` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
        - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ "resolved"
        - [x] –õ–æ–≥–∏–∫–∞ –¥–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—Ç–∞: –µ—Å–ª–∏ `custom_date` —É–∫–∞–∑–∞–Ω–∞ –∏ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–Ω–∞, –∏–Ω–∞—á–µ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞/–≤—Ä–µ–º—è
      - [x] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:
        - [x] –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã –Ω–∞ —Å–≤–æ–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö (—á–µ—Ä–µ–∑ `ManagerPermissionService`)
        - [x] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, –∫ —á—å–∏–º –æ–±—ä–µ–∫—Ç–∞–º –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø
        - [x] –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
      - [x] –†–æ—É—Ç—ã:
        - [x] `GET /manager/incidents` ‚Äî —Å–ø–∏—Å–æ–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ (apps/web/routes/manager.py)
        - [x] `GET /manager/incidents/create` ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è (apps/web/routes/manager.py)
        - [x] `POST /manager/incidents/create` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (apps/web/routes/manager.py)
        - [x] `GET /manager/incidents/{id}` ‚Äî –¥–µ—Ç–∞–ª–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (apps/web/routes/manager.py, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
        - [x] `GET /manager/incidents/{id}/edit` ‚Äî —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (apps/web/routes/manager.py)
        - [x] `POST /manager/incidents/{id}/edit` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (apps/web/routes/manager.py)
        - [x] `POST /manager/incidents/{id}/status` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (apps/web/routes/manager.py)
        - [x] `GET /manager/incidents/api/categories` ‚Äî API –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ –æ–±—ä–µ–∫—Ç—É (apps/web/routes/manager.py)
      - [x] –®–∞–±–ª–æ–Ω—ã:
        - [x] `manager/incidents/index.html` ‚Äî —Å–ø–∏—Å–æ–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
        - [x] `manager/incidents/create.html` ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
        - [x] `manager/incidents/edit.html` ‚Äî —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
      - [x] –°–µ—Ä–≤–∏—Å—ã:
        - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `IncidentService` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
        - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `IncidentCategoryService` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `PayrollAdjustmentService` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–¥–µ—Ä–∂–∞–Ω–∏–π –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
        - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ManagerPermissionService` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º
  - [ ] 3.14. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/settings`:
    - [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É 404 `{"detail":"Not Found"}` –∏ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ
    - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–§—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã" (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `/owner/features`):
      - [ ] –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ —Ç–∞—Ä–∏—Ñ–Ω–æ–º –ø–ª–∞–Ω–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞, —Å –∫–æ—Ç–æ—Ä—ã–º —É —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –µ—Å—Ç—å –¥–æ–≥–æ–≤–æ—Ä
      - [ ] –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—É–º–º—É —Ñ—É–Ω–∫—Ü–∏–π (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)
    - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è":
      - [ ] –î–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫—Ä–æ–º–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–ü–ª–∞—Ç–µ–∂–∏"
  - [x] 3.15. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/profile`:
    - [x] –£–±—Ä–∞—Ç—å —Å–µ–∫—Ü–∏—é "–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã" –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ
    - [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã
  - [x] 3.16. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ:
    - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –µ–º—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É (–Ω–µ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)
    - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/manager/payroll/adjustments` (–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π)
    - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/manager/payroll` (–Ω–∞—á–∏—Å–ª–µ–Ω–∏—è)
  - [x] 3.17. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/manager/payroll`:
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ `/owner/shifts/`, —Å –≤—ã–≤–æ–¥–æ–º —Å–≤–æ–¥–∫–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
    - [x] 3.17.1. –í —Å—Ç–æ–ª–±—Ü–µ "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ" –≤—ã–≤–æ–¥–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Å —Å–∞–º—ã–º –±–æ–ª—å—à–∏–º ID
    - [x] 3.17.2. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–î–µ—Ç–∞–ª–∏" –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Å–µ—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
      - [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∞–±–ª–∏—Ü—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π —Å–≤–µ—Ä—Ö—É –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–π –±–ª–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
      - [x] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º —Ç–∞–±–ª–∏—Ü—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –±–ª–æ–∫
      - [x] –í—ã–ø–ª–∞—Ç—ã –ø–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
      - [x] –ö–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å" –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö "–£–¥–µ—Ä–∂–∞–Ω–∏—è" –∏ "–ü—Ä–µ–º–∏–∏" –∞–∫—Ç–∏–≤–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞ –Ω–µ—Ç –≤—ã–ø–ª–∞—Ç
      - [x] –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –≤ –º–æ–¥–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –≤–ª–∞–¥–µ–ª—å—Ü—É
      - [x] –î–æ—Å—Ç—É–ø –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º–∏ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏ (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ¬´–ü–æ–∫–∞–∑–∞—Ç—å —É–≤–æ–ª–µ–Ω–Ω—ã—Ö¬ª, include_inactive –≤ `ManagerPermissionService`)
  - [x] 3.18. –ö–∞–ª–µ–Ω–¥–∞—Ä—å —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ: –≤–Ω–µ–¥—Ä–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏, —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–∫–∏ (—Ç–∞–π–º-—Å–ª–æ—Ç ‚Üí –º–æ–¥–∞–ª–∫–∞, —Å–º–µ–Ω–∞ ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞), –æ–±–Ω–æ–≤–∏—Ç—å fallback API –∏ UI  
        - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fallback —Ä–∞—Å—á—ë—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (shared service + manager API)  
        - [x] –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π JS: —Ç–∞–π–º-—Å–ª–æ—Ç—ã, –±–µ–π–¥–∂–∏, –º–æ–¥–∞–ª–∫–∏
  - [x] 3.19. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–º–µ–Ω —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ: –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–¥ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `return_to`
        - [x] –°–≤–æ–±–æ–¥–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤—ã–≤–æ–¥—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (owner/manager), –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–∫–æ–Ω –∏–∑ –æ–¥–Ω–æ–≥–æ —Ç–∞–π–º-—Å–ª–æ—Ç–∞

- [x] **–§–∞–∑–∞ 4: –°–æ—Ç—Ä—É–¥–Ω–∏–∫**
  - [x] 4.1. –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: —É–±—Ä–∞—Ç—å drag&drop –ø–∞–Ω–µ–ª–∏, –ø–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ç—É—Å–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ (–ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –æ–±—â–∞—è –º–æ–¥–∞–ª–∫–∞ `plan_shift_modal.js`, –∫–ª–∏–∫–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç –Ω–∞ `/employee/shifts/plan`, –∫—É—Ä—Å–æ—Ä –Ω–∞ –ø—É—Å—Ç—ã—Ö –¥–Ω—è—Ö –æ—Ç–∫–ª—é—á—ë–Ω)
  - [x] 4.2. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Å–º–µ–Ω—É/—Ç–∞–π–º-—Å–ª–æ—Ç (–∞–Ω–∞–ª–æ–≥ owner/manager) —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ç–∞–π–º-—Å–ª–æ—Ç–æ–≤, –≤–∫–ª—é—á–∞—è —Ç—Ä—ç–∫–∏ (`employee/shifts/plan.html`, `plan_shift.js` –≤ —Ä–µ–∂–∏–º–µ `role: 'employee'`)
  - [x] 4.3. API –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: —Ä–∞—Å—à–∏—Ä–∏—Ç—å endpoints, –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–¥ –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã timeslot details / employees-for-object / check-availability, –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, –æ–±–Ω–æ–≤–ª–µ–Ω—ã `doc/vision_v1/roles/employee.md`, `doc/vision_v1/shared/calendar.md`)

- [ ] **–§–∞–∑–∞ 5: –ë–æ—Ç**
  - [x] 5.1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (`schedule_handlers.py`, `ScheduleServiceAdapter`, `TimeSlotService`) –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
  - [x] 5.2. –†–∞—Å—à–∏—Ä–∏—Ç—å `ScheduleService.get_available_time_slots_for_date` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º (–∞–Ω–∞–ª–æ–≥ –≤–µ–±-–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞), —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ç–∞—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
  - [x] 5.3. –û–±–Ω–æ–≤–∏—Ç—å `ScheduleService.create_scheduled_shift_from_timeslot`: –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Å–ª–æ—Ç–µ
  - [x] 5.4. –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–±–æ—Ä —Å–ª–æ—Ç–∞ –≤ –±–æ—Ç–µ: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (—Ü–µ–ª–∏–∫–æ–º), –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–≤ `handle_schedule_date_selection` –∏ `handle_schedule_confirmation`
  - [ ] 5.5. –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (fallback –Ω–∞ —Ü–µ–ª—ã–π —Ç–∞–π–º-—Å–ª–æ—Ç, –µ—Å–ª–∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã), –Ω–µ –ª–æ–º–∞—è –¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –±–æ—Ç–∞
  - [ ] 5.6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, —Ä—É—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤ –±–æ—Ç–µ; –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `DOCUMENTATION_RULES.md`, `doc/vision_v1/shared/calendar.md`, —Ñ–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Project Brain

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ Iteration 43

- [ ] –ê–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è (API/JS): –∏–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏ –≤–Ω–µ–¥—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏—è (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, –ª–µ–Ω–∏–≤—ã–µ –ø–æ–¥–≥—Ä—É–∑–∫–∏)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞–º (owner/manager/employee), —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è `vision_v1/*`, `DOCUMENTATION_RULES.md`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (owner/manager/employee, –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞) –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `DOCUMENTATION_RULES.md`, `vision_v1/*`
- [x] –≠–∫—Å–ø–æ—Ä—Ç Excel –¥–ª—è `/owner/payroll/report` (–¥–≤–µ –≤–∫–ª–∞–¥–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π/–≤—ã–ø–ª–∞—Ç, –∫–Ω–æ–ø–∫–∞ ¬´–≠–∫—Å–ø–æ—Ä—Ç¬ª)
- [x] –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏: –µ–¥–∏–Ω—ã–π `EmployeeSelectorService`, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–∞–∫—Ç–∏–≤–Ω—ã–µ ‚Üí ¬´–ë—ã–≤—à–∏–µ¬ª ‚Üí –∞—Ä—Ö–∏–≤), –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –≤–ª–∞–¥–µ–ª—å—Ü–∞/—É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –∏ —Ñ–∏–ª—å—Ç—Ä—ã `/owner/payroll/adjustments`
- [x] `/employee/earnings`: –±–ª–æ–∫ ¬´–î–∞—Ç—ã –≤—ã–ø–ª–∞—Ç¬ª —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π; —Ç–∞–±–ª–∏—Ü–∞ ¬´–ù–∞—á–∏—Å–ª–µ–Ω–∏—è¬ª (—Å—Ç–æ–ª–±–µ—Ü ¬´–î–∞—Ç–∞ –≤—ã–ø–ª–∞—Ç—ã¬ª, —É–∑–∫–∏–π ¬´–û–ø–∏—Å–∞–Ω–∏–µ¬ª, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–æ –≥–æ–¥–∞–º, —á–µ–∫–±–æ–∫—Å ¬´–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ¬ª)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 44: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ —Å–º–µ–Ω–∞–º–∏ (–ø–ª–∞–Ω)

**–¶–µ–ª—å:** –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–º–µ–Ω (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ, –æ—Ç–º–µ–Ω–∞, –∞–≤—Ç–æ–ø—Ä–æ—Ü–µ—Å—Å—ã) –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö —Å–º–µ–Ω.

### –§–∞–∑–∞ 1: –ê—É–¥–∏—Ç —Ç–µ–∫—É—â–∏—Ö –ø–æ—Ç–æ–∫–æ–≤
- [x] –°–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É —Ç–æ—á–µ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤:
  - –≤–µ–±: `/owner|manager|employee/api/calendar/plan-shift`, `/.../cancel-shift`, `ScheduleService.create_scheduled_shift_from_timeslot`
  - bot: `schedule_handlers.py`, `shift_handlers.py`, `TimeSlotService`
  - –∞–≤—Ç–æ-–∑–∞–¥–∞—á–∏: `core/celery/tasks/shift_tasks.py`
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã (`planned`, `confirmed`, `active`, `completed`, `cancelled`) –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –æ–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ (–ø—Ä–∏–º–µ—Ä: —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞).

### –§–∞–∑–∞ 2: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `shift_history` (shift_id, schedule_id, operation, actor_id, actor_type, source, old_status, new_status, payload, created_at).
- [x] –í—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø–∏—Å—å –ª–æ–≥–æ–≤ –≤–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã/—Ä–æ—É—Ç—ã (web, bot, celery).
- [x] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–ª—è `Shift` –∏ `ShiftSchedule`: —Å–æ–±—Ä–∞—Ç—å –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ `active + cancelled`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (bot/web, `shift_service`, `shift_tasks`, —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤).
  - [x] –°–æ–∑–¥–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ (`doc/vision_v1/entities/shift_status_transitions.md`)
  - [x] –†–∞—Å—à–∏—Ä–µ–Ω `ShiftStatusSyncService` –º–µ—Ç–æ–¥–∞–º–∏ `sync_on_shift_open`, `sync_on_shift_close`, `sync_on_shift_cancel`, `sync_on_schedule_cancel`
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `ShiftStatusSyncService` –≤–æ –≤—Å–µ –º–µ—Å—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (shared/services/shift_service.py, core/scheduler/shift_scheduler.py, apps/bot/services/shift_service.py, core/celery/tasks/shift_tasks.py)
  - [x] –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (`in_progress` –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, `auto_closed` –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `completed`)
  - [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ (cancelled + active/completed, completed + active)
- [ ] –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É: –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏–≤–æ–¥–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–º–µ–Ω—ã –∫ `cancelled`, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (actor_role=`system`), –ø–æ–∫—Ä—ã—Ç—å `_cancel_shifts_after_termination` –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∫–µ–π—Å—ã.
- [ ] Backfill –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ: –º–∏–≥—Ä–∞—Ü–∏—è/—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö `schedule_plan`/`schedule_cancel`, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ `Shift` vs `ShiftSchedule`, –æ—Ç—á—ë—Ç –æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –∑–∞–ø–∏—Å—è—Ö.
- [x] –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–∞—Ö: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `SHIFT_CONFIRMED` –≤ ¬´–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º¬ª, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Å–º–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ, –æ—Ç–º–µ–Ω–∞, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ), –æ–±–Ω–æ–≤–∏—Ç—å Celery/—Ç—Ä–∏–≥–≥–µ—Ä—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤.
  - [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º, –æ—Ç–º–µ–Ω, –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è (web/bot/celery) –∏ –æ–±–Ω–æ–≤–ª—ë–Ω –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
  - [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã —à–∞–±–ª–æ–Ω—ã, UI /owner/notifications –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ–± –æ—Ç–º–µ–Ω–µ: –º–µ—Ç–æ–¥ `notify_schedule_cancelled` —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–µ—Å—Å–∏—é –ë–î –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö —Å–º–µ–Ω
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –æ—Ç–º–µ–Ω—ã —Å–º–µ–Ω (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫/—É–ø—Ä–∞–≤–ª—è—é—â–∏–π/–≤–ª–∞–¥–µ–ª–µ—Ü): –æ–±—â–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø—Ä–∏—á–∏–Ω (–∫–∞–∫ –≤ –±–æ—Ç–µ), –µ–¥–∏–Ω–∞—è —Ñ–æ—Ä–º–∞/–≤–∞–ª–∏–¥–∞—Ü–∏—è/–ª–æ–≥–∏–∫–∞ –≤ API –∏ UI.
- [x] –°–æ–∑–¥–∞—Ç—å shared-—Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç–º–µ–Ω—ã —Å–º–µ–Ω –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–µ–¥–∏–Ω—ã–π —Ä–æ—É—Ç –∏ —à–∞–±–ª–æ–Ω) –¥–ª—è —Ä–æ–ª–µ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫/—É–ø—Ä–∞–≤–ª—è—é—â–∏–π/–≤–ª–∞–¥–µ–ª–µ—Ü –≤–º–µ—Å—Ç–æ –º–æ–¥–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º; –≤–Ω–µ–¥—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö.

 
 ### –§–∞–∑–∞ 3: UI/–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å
 - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É ¬´–ò—Å—Ç–æ—Ä–∏—è¬ª –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö:
   - `/owner/shifts/<schedule_id>?shift_type=schedule`
   - `/owner/shifts/<shift_id>?shift_type=shift`

 ### –§–∞–∑–∞ 4: –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞
- [ ] –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞: –Ω–∞ prod Selectel Object Storage, –Ω–∞ dev MinIO (Docker); —Å–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π Telegram-–ø—Ä–æ–≤–∞–π–¥–µ—Ä –∑–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å shared-—Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –æ—Ç–º–µ–Ω.
  - [ ] –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (1 –¥–µ–Ω—å): —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ retention/–¥–æ—Å—Ç—É–ø—É/—Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤; –∞—É–¥–∏—Ç —Ç–µ–∫—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `MediaOrchestrator` (tasks/incidents) –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ Selectel/MinIO.
  - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (1-2 –¥–Ω—è): —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å MinIO –≤ docker-compose.dev; —Å–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç –≤ Selectel Object Storage, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å IAM/ACL –∏ —Å–µ–∫—Ä–µ—Ç—ã; –≤—ã–Ω–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env` –∏ CI/CD.
  - [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ (2-3 –¥–Ω—è): –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `MediaStorageClient` (upload/list/delete/generate_url); –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã `TelegramMediaStorageClient` (—Ç–µ–∫—É—â–∏–π), `S3MediaStorageClient` (Selectel/MinIO); –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `MediaOrchestrator` –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–æ –∫–æ–Ω—Ñ–∏–≥—É.
  - [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (2 –¥–Ω—è): –¥–æ–±–∞–≤–∏—Ç—å `media_meta` –≤ `ShiftCancellation` (–º–∏–≥—Ä–∞—Ü–∏—è); —Å–æ–∑–¥–∞—Ç—å shared-—Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç–º–µ–Ω—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π; –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—ã owner/manager/employee.
  - [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ Project Brain (0.5 –¥–Ω—è): –æ–±–Ω–æ–≤–∏—Ç—å `doc/vision_v1/shared/media_storage.md`, `DOCUMENTATION_RULES.md`; –∑–∞–Ω–µ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ Project Brain.
  - [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π (1 –¥–µ–Ω—å): —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤; —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞ dev (MinIO) –∏ prod (Selectel); –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∏—Ç–∏–∫ –¥–æ—Å—Ç—É–ø–∞ –∏ presigned URL.
---

