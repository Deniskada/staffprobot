Воркфлоу процесса конструктора шаблона договоров:

Визуальное представление: в виде мастера, оформленного также как и мастер профилей пользователей.

Пользователь заходит на страницу Шаблоны договоров и по нажатию кнопки открывается мастер, первый шагом которого будет выбор типа договора. Всего их три, на данном этапе:
1. Договор подряда (ГПХ)
2. Договор оказания услуг
3. Трудовой договор

Договор подряда — мастер создания шаблона.
Шаг 1 /13
Заголовок шага: Заказчик
Элемент формы: Тип заказчика (выбор одного значения из):
* Индивидуальный предприниматель
* Юридическое лицо
* Физическое лицо

Элемент формы: Выбор «Название заказчика» - выбирается один из профилей собственника. В шаблоне мы запоминаем, который профиль выбран и используем значения из этого профиля при формировании договора вне этого мастера
Шаг 2 из 13
Заголовок шага: Подрядчик
Элемент формы: Тип подрядчика (выбор одного значения из):
* Индивидуальный предприниматель
* Юридическое лицо
* Физическое лицо

В шаблоне мы подставляем, только набор полей

Шаг 3 из 13
Заголовок шага: Объект договора
Переключатель:
    • Указать перечень Работ в Договоре (Подсказка Если перечень выполняемых работ невелик и они не требуют специальной конкретизации, то лучше указать их непосредственно в договоре.)
    • Перечень Работ указан в смете (Подсказка Если каждая из работ имеет собственную стоимость, определенную специфику, либо работы выполняются в несколько этапов, каждый из которых имеет собственную оценку и специфику, то их описание выделяется в самостоятельный документ — смету.)
    • Перечень Работ указан в Техническом задании (Подсказка Если работы связаны с проектированием технического объекта, результатом которых является проект (комплект проектной документации на другой продукт), то требование к работам выделяются в отдельный документ — техническое задание.)
Таблица Наименование работ [Название работы, кол-во, единица измерения, стоимость] — нужно реализовать CRUD-операции с этой таблицей и строку итогов по полю (СУММА) стоимость.
Чекбокс с названием «Разрешить подрядчику привлекать третьих лиц»
Шаг 4 из 13
Заголовок шага: Поставщик материалов и оборудования
Поле выбора из трех значений:
* Подрядчик предоставляет материалы и оборудование
* Заказчик предоставляет материалы, а оборудование — подрядчик
* Заказчик предоставляет материалы и оборудование

Если выбран параметр Заказчик предоставляет материалы, а оборудование — подрядчик, то показываются новые параметры:
Cрок в днях передачи подрядчику материалов и поле ввода срока
Установить ответственность за просрочку передачи материалов и оборудования - чекбокс

Если выбран параметр Заказчик предоставляет материалы и оборудование, то показываются новые параметры:
Cрок в днях передачи подрядчику материалов и оборудования и поле ввода срока
Установить ответственность за просрочку передачи материалов и оборудования - чекбокс

Ответственный за сохранность материалов и оборудования — выбор между двумя параметрами:
* Заказчик
* Подрядчик

Шаг 5 из 13
Заголовок шага: Сроки выполнения работ
Инфоблок: Сроки выполнения работы — это существенные условия договора подряда, без которых данный договор не будет считаться заключенным.

Начало выполнения работ:
Конец выполнения работ:
	
Чекбокс Указать в договоре промежуточные сроки выполнения работ, если чекнут, то показать таблицу Промежуточные сроки выполнения работы [Описание этапа, Дата начала, Дата окончания] и обеспечить CRUD-операции с этой таблицей

Шаг 6 из 13
Заголовок шага: Дополнительные требования
четыре чекбокса, при включении которых появляются дополнительные шаги мастера:
1. Указать в договоре дополнительные требования к качеству работ
2. Указать в договоре конкретизированные гарантийные сроки
3. Указать в договоре специфичные цели, для которых будет использоваться результат работ
4. Указать в договоре условие о содействии заказчика

Шаг 6.1 из 13
Заголовок шага: Условия о качестве
Инфоблок: Качество работ — перечень требований, которым должен соответствовать результат выполненных работ. Вы можете указать необходимые именно вам требования. Например, вы заключаете договор на облицовку плиткой пола и лестницы и не хотите, чтобы зимой она превращалась в каток, укажите — «плитка не должна быть скользкой».

таблица Требования к качеству выполнения работы [Описание требования, Единица измерения, Критерий достижения] и обеспечить CRUD-операции с этой таблицей

Шаг 6.2 из 13
Заголовок шага: Гарантийный срок 
Инфоблок: Гарантийный срок — период времени, в течение которого подрядчик обеспечивает стабильность качественных показателей результата работ и безвозмездно устраняет выявленные недостатки. Гарантийные сроки на большинство видов работ установлены действующими нормативными актами и не могут быть уменьшены.

Гарантийный срок по общему правилу не может быть менее 1 года. Вы можете указать меньший срок, но тогда в случае возникновения спора этот пункт может быть признан недействительным и применены правила ФЗ «О защите прав потребителей».

Гарантийный срок начинается с момента сдачи-приёмки результата всех работ в целом.

Способ указания гарантийного срока (выбор):
* По достижении календарной даты — при выборе — отобразить поле ввода даты
* По истечению календарного срока — при выборе — отобразить поле ввода цифры и выбора исчисления (дней, недель, месяцев, лет)

Шаг 6.3 из 13
Заголовок шага: Цели использования
Инфоблок: Заказчик вправе уведомить подрядчика о целях, в которых он планирует использовать результат выполнения работы. В случае если результат выполнения работы не будет соответствовать указанным в договоре целям, заказчик вправе предъявить подрядчику требования, связанные с ненадлежащим качеством выполненной работы.

таблица Цели использования [Описание цели, Единица измерения, Критерий достижения] и обеспечить CRUD-операции с этой таблицей

Шаг 6.4 из 13
Заголовок шага: Содействие заказчика 
Инфоблок: Содействие заказчика — перечень мероприятий и действий, выполняемых заказчиком, для обеспечения подрядчику возможности беспрепятственного выполнения работ. Например: предоставление свободного доступа на охраняемую территорию, обеспечение водо- и/или электроснабжением, предоставление специального оборудования и т. д.

Таблица Содействие заказчика [Описание содействия, Единица измерения, Критерий достижения] и обеспечить CRUD-операции с этой таблицей

Шаг 7 из 13
Заголовок шага: Стоимость работ
Инфоблок: Укажите стоимость работ, выполняемых подрядчиком по настоящему договору. Помните, что стоимость работ уже включает в себя компенсацию издержек и вознаграждение подрядчика.

Чекбокс: Стоимость работы будет определяться сметой
Чекбокс: Стоимость работ указана приблизительно
НДФЛ размер:
* 13%
* 30%

Шаг 8 из 13
Заголовок шага: Порядок оплаты
Инфоблок: Определите порядок оплаты вознаграждения подрядчику — предоплатой, оплатой по факту или с отсрочкой платежа. Вы можете выбрать любое сочетание способов оплаты, включая и все три вместе.

Форма оплаты определяет, каким образом будет производится оплата — в наличной или безналичной форме. Помните, что на наличные расчеты между юридическими лицами в рамках одного договора наложено ограничение — 100 000 рублей.

Выбор способа оплаты:
Чекбоксы, при включении которых появляются дополнительные шаги мастера:
* Предоплата
* Оплата по факту
* Отсрочка оплаты

Способ указания платежей (переключатель):
* В рублях
* В процентах

Способ расчётов (переключатель):
* Безналичный расчет
* Наличный расчетный

Дата совершения платежа (переключатель):
* Дата зачисления денежных средств на расчетный счет получателя
* Дата получения банком плательщика платежного поручения о переводе денежных средств

Шаг 8.1 из 13
Заголовок шага: Предоплата
Инфоблок: Предоплата — полная или частичная оплата работ до их завершения и передачи результата заказчику.

Размер предоплаты в рублях — поле ввода
Тип срока предоплаты выбор:
* Точная дата (и открывается поле дата платежа)
* С момента заключения Договора (открывается поле ввода количества дней)
* С момента начала Работ/этапа Работ (открывается поле ввода количества дней)

Шаг 8.2 из 13
Заголовок шага:  Оплата по факту
Инфоблок: Оплата по факту — полная или частичная оплата работ в момент их завершения и передачи результата работ заказчику. (проверка: должен быть меньше стоимости работ, размер предоплаты и размер оплаты по факту в сумме должны быть меньше стоимости работ)

Размер платежа в рублях — поле ввода суммы (проверка: должен быть меньше стоимости работ, размер предоплаты и размер оплаты по факту в сумме должны быть меньше стоимости работ)

Шаг 8.3 из 13
Заголовок шага:   Отсрочка оплаты
Инфоблок: Отсрочка оплаты — полная или частичная оплата работ спустя определенное время после их завершения и передачи результата заказчику.
Размер отсроченного платежа в рублях — поле ввода (если есть возможность, нужно вычислить)
Срок отсрочки в днях — поле ввода
Чекбокс Вознаграждение за предоставление отсрочки, если включен поле ввода - Размер вознаграждения в процентах за предоставление отсрочки (Подсказка — размер вознаграждения за каждый предоставленный день отсрочки указывается в процентах от размера отсроченного платежа)

Шаг 9 из 13
Заголовок шага:   Принятие результата работ
Инфоблок: Принятие результата выполненных работ является одним из ключевых моментов договора и, как правило, включает в себя следующие действия:

    Уведомление заказчика о завершении работ подрядчиком;
    Принятие результата работ и составление акта сдачи-приемки;
    Урегулирование разногласий, связанных с принятием результата работ.

Данные действия должны быть четко формализованы и проведены в соответствующие сроки.

Срок приёмки в днях — поле ввода (Подсказка — Срок учитывается с момента получения заказчиком уведомления о завершении работ)
Срок просрочки приёмки в днях — поле ввода (Подсказка — Срок, по окончании которого, работы считаются принятыми, если заказчик уклоняется от их приемки. Отсчитывается с момента окончания срока приемки работ)

Шаг 10 из 13
Заголовок шага:   Ответственность сторон
Инфоблок: Стороны могут установить в договоре размер ответственности как подрядчика, так и заказчика за нарушение обязательств по договору. Обращаем ваше внимание, что не имеет смысла устанавливать слишком большой размер неустойки, поскольку в случае судебного разбирательства он, скорее всего, будет уменьшен. Оптимальный размер неустойки варьируется от 0,1% до 1%.

Чекбокс Установить ответственность подрядчика
если чекнут, то показать Размер неустойки в процентах — поле ввода (Подсказка размер неустойки за каждый день просрочки подрядчика рассчитывается из общей стоимости работ или из стоимости этапа работ)

Чекбокс Установить повышенную ответственность за нарушение сроков
если чекнут, то показать Cрок в днях, по истечении которого подрядчик несет повышенную ответственность — поле ввода (Подсказка: Установка дополнительного срока, при просрочке которого заказчик вправе расторгнуть договор в одностороннем порядке, а подрядчик возмещает ему все расходы, связанные с расторжением договора и невыполнением работ)

Чекбокс Установить ответственность заказчика
если чекнут, то оказать Размер неустойки в процентах — поле ввода (Подсказка: размер неустойки за каждый день просрочки заказчика. Рассчитывается из стоимости просроченного платежа)

Шаг 11 из 13
Заголовок шага: Разрешение споров
Инфлоблок: Споры, могущие возникнуть в процессе исполнения договора, разрешаются либо самими сторонами в рабочем (претензионном) порядке, либо передаются на разрешение соответствующего суда. Необходимо указать, должна ли заинтересованная сторона до обращения в суд обязательно соблюсти претензионный порядок, то есть направить виновной стороне письменную претензию и получить ответ, либо такой порядок необязателен.

Стороны вправе определить в договоре подсудность, то есть явным образом указать суд, в котором будут рассматриваться все споры, возникшие из договора.

Чекбокс Соблюдение претензионного порядка обязательно до обращения в суд
если чекнут, то поле ввода Срок ответа на претензию в рабочих днях

Поле выбора: Место разрешения судебного спора
* По месту нахождения ответчика
* По месту нахождения заинтересованной стороны (истца)
* По месту нахождения Заказчика
* По месту нахождения Подрядчика

Шаг 12 из 13
Заголовок шага: Дополнительные условия
Инфлоблок: Форс-мажор (обстоятельства непреодолимой силы) — непредсказуемое событие (например стихийное бедствие, военные действия, забастовки и т.д.), не зависящее от воли сторон и ведущее к невозможности исполнения договорных обязательств. Наступление таких обстоятельств освобождает стороны от ответственности за неисполнение договора на все время их действия.

Конфиденциальность означает, что как сами условия договора, так и вся информация, полученная сторонами в ходе исполнения договора, является тайной и не подлежит разглашению третьим лицам.

Чекбокс Включить в договор условие о форс-мажоре
Чекбокс Включить в договор условия о конфиденциальности

Шаг 13 из 13
Заголовок шага: Сведения о договоре
Инфлоблок: Обычно, в качестве места подписания договора указывают город, в котором находится одна из сторон. В качестве даты указывается дата подписания договора обеими сторонами.

Номер договора заполняется в соответствии с правилами заполнения реквизитов в Вашей организации.
Номер договора
Место подписания договора
Дата подписания договора
	
Тэги этих параметров нужно включить в шаблон и запросить у пользователя на этапе формирования договора по шаблону
Справочники

Реализованы в системе в виде профилей.
Всего реализовано три типа профилей:
* Индивидуальный предприниматель
* Юридическое лицо
* Физическое лицо

Каждый тип имеет наборы следующие наборы полей:
Физическое лицо:
Гражданство
    • РФ
    • Иностранное
    • Лицо без гражданства
Личные данные
    • Фамилия
    • Имя
    • Отчество
Дата рождения
Пол:
    • Мужской
    • Женский
Паспорт
    • Серия
    • Номер
    • Дата выдачи
    • Кем выданным
    • Код подразделения
    • Адрес регистрации кнопка Выбрать (по нажатию кнопки нужно показать форму добавления адреса с базой данных адресов — эту форму нужно сделать общим компонентом, будем использовать в других местах)
Регистрационные данные 
    • СНИЛС
    • ИНН
Раздел Контактная информация
    • Телефон
    • email
    • MAX
Раздел Банковские реквизиты
    • Расчетный счет
    • Корреспондентский счет
    • Наименование банка
    • БИК
Юридическое лицо:
Полное наименование 
Дата присвоения ОГРН
ОГРН
ИНН
ОКПО
Адрес в РФ, кнопка Выбрать (по нажатию кнопки нужно показать форму добавления адреса с базой данных адресов — эту форму нужно сделать общим компонентом, будем использовать в других местах)
Раздел Сведения о представителе
    • Представитель - кнопка выбрать (по нажатии кнопки показываем форму выбора/создания профиля с типом «Физическое лицо»)
    • Основание полномочий (всплывающая подсказка Устав)
    • Наименование должности
Раздел Контактная информация
    • Телефон
    • email
    • MAX
Раздел Банковские реквизиты
    • Расчетный счет
    • Корреспондентский счет
    • Наименование банка
    • БИК

Индивидуальный предприниматель: 
Личные данные индивидуального предпринимателя
    • Фамилия
    • Имя
    • Отчество
Пол:
    • Мужской
    • Женский
Регистрационные данные
    • ОГРНИП
    • ИНН
    • ОКПО
Адреса