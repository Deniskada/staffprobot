# Обзор vision_v1

Эта документация — актуальная карта проекта. Цель: ускорить разработку и исключить путаницу между кодом и документацией.

## Как устроено
- Роли: `doc/vision_v1/roles/*` — веб-роуты, шаблоны и API для каждой роли (owner, manager, employee, superadmin, moderator) с корректными префиксами и аннотациями назначения/редиректов.
- Сущности: `doc/vision_v1/entities/*` — разрез по доменным сущностям (объекты, сотрудники, тайм-слоты, смены, отзывы, заявки, отчеты, лимиты/тарифы) с прямыми ссылками на файлы и назначением маршрутов.
- Общие компоненты: `doc/vision_v1/shared/*` — shared API (календарь, медиа, рейтинги, обжалования, системные настройки), shared шаблоны и JS.
- Бот: `doc/vision_v1/bot/README.md` — команды и callback-data (паттерны) с привязкой к хендлерам.
- Правила: `doc/DOCUMENTATION_RULES.md` — обязательно к применению при любых изменениях.

## Как пользоваться
1) Ищете/меняете роут — откройте нужную роль в `roles/*` и (при необходимости) соответствующую сущность в `entities/*`.
2) Встречаете общий `/api/calendar/*` — смотрите `shared/calendar.md`.
3) Меняете логику бота — смотрите `bot/README.md`.
4) Всегда сверяйтесь с правилами в `doc/DOCUMENTATION_RULES.md` и обновляйте документацию после изменений в коде.

## Аннотации и коллизии
- Любой маршрут сопровождается: источником файла, ролью (по префиксу) и назначением (страница/JSON/редирект). При дублях — поясняется причина (например, редирект).
- Общие API помечаются «shared ...» с прямой ссылкой на shared-раздел.

## Обновление
- Изменили код — обновите соответствующие файлы в `vision_v1` (roles/entities/shared/bot).
- Удалили/перенесли роут — удалите/перенесите запись в документации.
- После правок — ревью, затем подтверждение владельцем проекта и только после этого смержить.

## Быстрые ссылки
- Роли: `doc/vision_v1/roles/`
- Сущности: `doc/vision_v1/entities/`
- Shared: `doc/vision_v1/shared/`
- Бот: `doc/vision_v1/bot/README.md`
- Правила: `doc/DOCUMENTATION_RULES.md`
